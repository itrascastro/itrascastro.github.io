---
layout: bloc
title: "Bloc 1: Conceptes fonamentals i instal·lació"
description: "Components Angular, interpolació, binding i directives estructurals"
keywords: "components, interpolació, binding, directives, angular, typescript"
unitat: 2
bloc: 1
bloc_numero: 1
---

<!-- SECCIÓ 1: Creació del primer component -->
<div class="section" id="Unitat2_Bloc1_Seccio1">
  <h2 id="Unitat2_Bloc1_Seccio1">1. Creació del primer component</h2>

  <!-- MULTIMÈDIA -->
  {% include multimedia-youtube.html unitat=2 bloc=1 seccio=1 %}


  {% include objectius.html llista="Comprendre què és un component Angular com a peça independent i reutilitzable de la interfície, identificant els seus avantatges en aplicacions modulars com el catàleg d'elements|Crear el primer component utilitzant l'Angular CLI, explorant l'estructura generada (classe TypeScript, plantilla HTML i arxiu d'estils) i comprenent la funció de cada part|Integrar el component creat a l'aplicació principal mitjançant el selector, verificant-ne el funcionament al navegador i comprenent el flux complet de creació-integració-visualització" %}

  {% include info_box.html contingut="<strong>RA2 · Criteri 1</strong> — Divideix la interfície en peces senzilles i reutilitzables amb responsabilitats clares." %}

  {% capture section_point_1_1 %}
    <p>Abans de començar, necessiteu:</p>
    <ul>
      <li><strong>Lectura 1.3.2</strong> — Projecte <code>cataleg-elements</code> creat i explorat</li>
      <li><strong>Lectura 1.3.3</strong> — Servidor operatiu amb <code>ng serve</code></li>
    </ul>

    <p><strong>Verificació ràpida:</strong></p>

    {% capture code_1 %}cd ~/workspace/cataleg-elements  # o cd %USERPROFILE%\workspace\cataleg-elements
ng version
git status{% endcapture %}
    {% include code-block.html lang="bash" code=code_1 %}

    <p><strong>Punt d'autocomprovació:</strong> Angular CLI 18.x operativa, projecte net sense canvis pendents.</p>
  {% endcapture %}
  {% include section-point.html numero="1.1" titol="Prerequisits" contingut=section_point_1_1 %}

  {% capture section_point_1_2 %}
    <h4>1.2.1. Què és un component</h4>

    <p>Un <strong>component</strong> és una peça independent i reutilitzable de la interfície que encapsula lògica (TypeScript), presentació (HTML) i estils (CSS/SCSS). Cada component té una responsabilitat clara i funciona de manera autònoma.</p>

    <p><strong>Analogia:</strong> Un component és com una peça de LEGO: independent, reutilitzable i composable amb altres peces per crear estructures complexes.</p>

    <h4>1.2.2. Problema sense components</h4>

    <p>Abans d'Angular i els frameworks moderns, les aplicacions web tenien tot el codi en fitxers monolítics difícils de mantenir.</p>

    <p><strong>Situació sense components:</strong></p>

    {% capture code_2 %}app.html (1000 línies)
├── Capçalera (HTML + CSS inline)
├── Barra de cerca (HTML + JavaScript embegut)
├── Llista de 100 elements (HTML repetit manualment)
├── Paginació (HTML + lògica barrejada)
└── Peu de pàgina

app.js (500 línies de lògica barrejada)
├── Funcions globals per capçalera
├── Funcions globals per cerca
├── Funcions globals per elements
└── Funcions globals per paginació

styles.css (300 línies globals)
├── Estils capçalera
├── Estils cerca
├── Estils elements (conflictes amb altres parts)
└── Estils paginació{% endcapture %}
    {% include code-block.html lang="text" code=code_2 %}

    <p><strong>Problemes que genera:</strong></p>

    <p><strong>1. Dificultat de manteniment</strong><br>
    Modificar la targeta d'un element requereix buscar el codi entre 1000 línies d'HTML, localitzar la lògica entre 500 línies de JavaScript i trobar els estils correctes entre 300 línies de CSS. Un canvi petit pot trencar funcionalitats no relacionades.</p>

    {% capture code_3 %}// app.js - Lògica barrejada
function mostrarElement(id) { ... }
function filtrarElements(text) { ... }
function validarCerca(input) { ... }
function mostrarCapcalera() { ... }
function actualizarPaginacio() { ... }
// 50 funcions més...{% endcapture %}
    {% include code-block.html lang="javascript" code=code_3 %}

    <p><strong>2. Impossibilitat de reutilització</strong><br>
    Si necessiteu mostrar 100 elements, heu de copiar-pegar 100 vegades el mateix HTML. Si canvieu el disseny d'un element, heu de modificar manualment les 100 còpies. Qualsevol error es multiplica.</p>

    <p><strong>3. Col·laboració complicada</strong><br>
    Diverses persones editant el mateix fitxer genera conflictes constants a Git. No es poden assignar tasques independents perquè tot el codi està barrejat.</p>

    <p><strong>4. Testing impossible</strong><br>
    No es pot provar una part aïllada de l'aplicació. Els tests han de carregar tota l'aplicació sencera, fent-los lents i fràgils.</p>

    <p><strong>5. Codi espagueti</strong><br>
    Les funcions globals poden cridar-se entre elles sense control. Els estils globals creen conflictes difícils de rastrejar. El codi creix de forma desordenada.</p>

    <h4>1.2.3. Solució amb components</h4>

    <p>Angular organitza la interfície en components independents i reutilitzables.</p>

    <p><strong>Situació amb components:</strong></p>

    {% capture code_4 %}src/app/
├── components/
│   ├── capcalera/
│   │   ├── capcalera.component.ts (40 línies lògica)
│   │   ├── capcalera.component.html (20 línies)
│   │   └── capcalera.component.scss (15 línies encapsulats)
│   ├── barra-cerca/
│   │   ├── barra-cerca.component.ts (60 línies)
│   │   ├── barra-cerca.component.html (25 línies)
│   │   └── barra-cerca.component.scss (20 línies)
│   ├── targeta-element/
│   │   ├── targeta-element.component.ts (50 línies)
│   │   ├── targeta-element.component.html (30 línies)
│   │   └── targeta-element.component.scss (25 línies)
│   └── paginacio/
│       ├── paginacio.component.ts (45 línies)
│       ├── paginacio.component.html (20 línies)
│       └── paginacio.component.scss (18 línies)
└── app.component.html (15 línies)
    <app-capcalera></app-capcalera>
    <app-barra-cerca></app-barra-cerca>
    <app-targeta-element *ngFor="let element of elements"></app-targeta-element>
    <app-paginacio></app-paginacio>{% endcapture %}
    {% include code-block.html lang="text" code=code_4 %}

    <p><strong>Avantatges específics:</strong></p>

    <ul>
      <li><i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i> <strong>Mantenibilitat:</strong> Cada component es modifica independentment. Els errors es localitzen fàcilment perquè el codi està organitzat. Els canvis visuals s'apliquen consistentment.</li>

      <li><i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i> <strong>Reutilització:</strong> Component <code>targeta-element</code> utilitzat 100 vegades amb dades diferents. Un canvi al component es replica automàticament a tots els usos. Zero duplicació de codi.</li>

      <li><i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i> <strong>Col·laboració:</strong> Cada persona treballa en un component diferent sense conflictes. Els canvis són independents i es poden revisar aïlladament.</li>

      <li><i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i> <strong>Testing:</strong> Cada component es prova de forma aïllada amb dades simulades. Les proves són ràpides i fiables.</li>
    </ul>

    <h4>1.2.4. Exemple real complet</h4>

    <p><strong>Situació:</strong> Mostrar 100 elements del catàleg amb títol, descripció i imatge.</p>

    <p><strong>Sense components (HTML repetit):</strong></p>

    {% capture code_5 %}<!-- app.component.html (3000 línies) -->
<div class="element">
  <img src="element1.jpg" alt="Element 1">
  <h3>Element 1</h3>
  <p>Descripció de l'element 1...</p>
</div>
<div class="element">
  <img src="element2.jpg" alt="Element 2">
  <h3>Element 2</h3>
  <p>Descripció de l'element 2...</p>
</div>
<!-- Repetir 98 vegades més... -->
<div class="element">
  <img src="element100.jpg" alt="Element 100">
  <h3>Element 100</h3>
  <p>Descripció de l'element 100...</p>
</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_5 %}

    <p><strong>Problema:</strong> Si canvieu el disseny (afegir botó, canviar ordre), heu de modificar manualment 100 blocs. Risc d'errors i inconsistències.</p>

    <p><strong>Amb components:</strong></p>

    {% capture code_6 %}// targeta-element.component.ts
export class TargetaElementComponent {
  @Input() element!: Element;
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_6 %}

    {% capture code_7 %}<!-- targeta-element.component.html -->
<div class="element">
  <img [src]="element.imatge" [alt]="element.titol">
  <h3>{{ element.titol }}</h3>
  <p>{{ element.descripcio }}</p>
</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_7 %}

    {% capture code_8 %}<!-- app.component.html (10 línies) -->
<app-targeta-element
  *ngFor="let element of elements"
  [element]="element">
</app-targeta-element>{% endcapture %}
    {% include code-block.html lang="html" code=code_8 %}

    <p><strong>Benefici:</strong> Canvieu el component 1 vegada, s'actualitzen automàticament els 100 elements. Codi net, mantenible i escalable.</p>

    <p><strong>Millora quantificable:</strong></p>
    <ul>
      <li>Línies de codi: 3000 → 40 (reducció <strong>98.7%</strong>)</li>
      <li>Temps de modificació: 2h (manual) → 5 min (component)</li>
      <li>Errors potencials: 100 (un per element) → 1 (al component)</li>
    </ul>

    <h4>1.2.5. Taula comparativa</h4>

    <table>
      <thead>
        <tr>
          <th>Aspecte</th>
          <th>Sense components</th>
          <th>Amb components</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Organització</strong></td>
          <td>Tot en pocs fitxers grans</td>
          <td>Carpetes per component</td>
        </tr>
        <tr>
          <td><strong>Línies per fitxer</strong></td>
          <td>500-1000+</td>
          <td>30-80</td>
        </tr>
        <tr>
          <td><strong>Reutilització</strong></td>
          <td>Copiar-pegar (duplicació)</td>
          <td>Import i ús il·limitat</td>
        </tr>
        <tr>
          <td><strong>Manteniment</strong></td>
          <td>Difícil (codi barrejat)</td>
          <td>Fàcil (codi aïllat)</td>
        </tr>
        <tr>
          <td><strong>Col·laboració</strong></td>
          <td>Conflictes a Git</td>
          <td>Treball paral·lel sense conflictes</td>
        </tr>
        <tr>
          <td><strong>Testing</strong></td>
          <td>Impossible aïlladament</td>
          <td>Proves unitàries fàcils</td>
        </tr>
        <tr>
          <td><strong>Escalabilitat</strong></td>
          <td>Codi espagueti</td>
          <td>Arquitectura ordenada</td>
        </tr>
      </tbody>
    </table>

    <h4>1.2.6. Conceptes clau</h4>

    <table>
      <thead>
        <tr>
          <th>Concepte</th>
          <th>Definició</th>
          <th>Exemple pràctic</th>
          <th>Quan usar</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Component</strong></td>
          <td>Peça independent amb lògica + plantilla + estils</td>
          <td><code>TargetaElementComponent</code></td>
          <td>Sempre que necessiteu reutilitzar UI</td>
        </tr>
        <tr>
          <td><strong>Selector</strong></td>
          <td>Nom de l'etiqueta HTML del component</td>
          <td><code>&lt;app-targeta-element&gt;</code></td>
          <td>Per incloure el component a plantilles</td>
        </tr>
        <tr>
          <td><strong>@Input</strong></td>
          <td>Propietat que rep dades del component pare</td>
          <td><code>@Input() element: Element</code></td>
          <td>Passar dades al component</td>
        </tr>
        <tr>
          <td><strong>@Output</strong></td>
          <td>Event que emet dades al component pare</td>
          <td><code>@Output() clicat = new EventEmitter()</code></td>
          <td>Comunicar esdeveniments</td>
        </tr>
        <tr>
          <td><strong>Standalone</strong></td>
          <td>Component autònom sense NgModule</td>
          <td><code>standalone: true</code></td>
          <td>Sempre (model modern Angular)</td>
        </tr>
      </tbody>
    </table>

    <h4>1.2.7. Quan usar components</h4>

    <p><strong><i class="bi bi-check-circle text-success" aria-hidden="true"></i> Crear un component quan:</strong></p>
    <ul>
      <li>La peça de UI es repeteix múltiples vegades (targeta, botó, formulari)</li>
      <li>La funcionalitat té una responsabilitat clara i aïllable (cerca, paginació)</li>
      <li>Voleu organitzar millor una interfície complexa (dividir en parts manejables)</li>
      <li>Necessiteu reutilitzar la peça en diferents pàgines o contextos</li>
    </ul>

    <p><strong><i class="bi bi-x-circle text-danger" aria-hidden="true"></i> NO crear un component quan:</strong></p>
    <ul>
      <li>És una peça d'UI única que no es reutilitzarà mai (millor inline al component pare)</li>
      <li>La lògica és massa simple i crear un component seria over-engineering</li>
      <li>El component resultant seria massa petit (menys de 10 línies de plantilla)</li>
    </ul>

    <h4>1.2.8. Característiques principals</h4>

    <p><strong>Encapsulació</strong><br>
    Els components encapsulen lògica, presentació i estils. Els estils d'un component només afecten aquest component (ViewEncapsulation). Les propietats i mètodes privats no són accessibles des de fora.</p>

    <p><strong>Composició</strong><br>
    Els components complexos es construeixen combinant components simples. Un component pot contenir altres components formant un arbre jeràrquic. Exemple: <code>PaginaIniciComponent</code> → <code>LlistaElementsComponent</code> → <code>TargetaElementComponent</code>.</p>

    <p><strong>Reutilització</strong><br>
    El mateix component es pot utilitzar múltiples vegades amb dades diferents. Els components genèrics (botons, inputs) són reutilitzables en tota l'aplicació.</p>

    <p><strong>Responsabilitat única</strong><br>
    Cada component té una sola raó per canviar. Si un component fa massa coses, cal dividir-lo en components més petits.</p>

    <h4>1.2.9. Integració amb el flux de treball</h4>

    <p>Els components s'integren perfectament amb:</p>
    <ul>
      <li><strong>Angular CLI:</strong> Generació automàtica amb <code>ng generate component</code></li>
      <li><strong>TypeScript:</strong> Tipatge fort per detectar errors abans d'executar</li>
      <li><strong>Hot Reload:</strong> Canvis visibles immediatament al navegador</li>
      <li><strong>Git:</strong> Cada component és una unitat independent fàcil de versionar</li>
    </ul>

    <p>En les pròximes lectures aprendreu a:</p>
    <ul>
      <li>Passar dades als components (<code>@Input</code>)</li>
      <li>Rebre esdeveniments dels components (<code>@Output</code>)</li>
      <li>Utilitzar directives per mostrar llistes de components (<code>*ngFor</code>)</li>
      <li>Aplicar estils condicionals i dinàmics</li>
    </ul>
  {% endcapture %}
  {% include section-point.html numero="1.2" titol="Marc conceptual" contingut=section_point_1_2 %}

  {% capture section_point_1_3 %}
    <h4>1.3.1. Flux de creació i ús d'un component</h4>

    {% capture code_9 %}1. Disseny → Identificar peça reutilitzable
2. CLI → ng generate component nom-component
3. Implementar → Lògica (TS) + Plantilla (HTML) + Estils (SCSS)
4. Integrar → Usar selector al component pare
5. Verificar → Comprovar al navegador{% endcapture %}
    {% include code-block.html lang="text" code=code_9 %}

    <h4>1.3.2. Relació entre fitxers</h4>

    {% capture code_10 %}targeta-element/
├── .ts  → Lògica (propietats + mètodes)
├── .html → Plantilla (estructura visual)
├── .scss → Estils (aspecte encapsulat)
└── .spec.ts → Tests{% endcapture %}
    {% include code-block.html lang="text" code=code_10 %}

    <p><strong>Connexió:</strong> La classe (.ts) referencia plantilla i estils. La plantilla accedeix a propietats de la classe amb interpolació <code>{{ propietat }}</code>.</p>

    <h4>1.3.3. Flux de dades bàsic</h4>

    {% capture code_11 %}Component (TS) → Plantilla (HTML) → Navegador
    titol = 'X'  →  {{ titol }}  →  <h2>X</h2>{% endcapture %}
    {% include code-block.html lang="text" code=code_11 %}
  {% endcapture %}
  {% include section-point.html numero="1.3" titol="Model mental" contingut=section_point_1_3 %}

  {% capture section_point_1_4 %}
    <h4>1.4.1. Objectiu</h4>
    <p>Entendre què és un component Angular i per què és el pilar de l'arquitectura d'aplicacions modernes.</p>

    <h4>1.4.2. Contingut</h4>

    <p>Un component Angular és una <strong>unitat autònoma</strong> que agrupa lògica, presentació i estils. A diferència d'altres enfocaments dispersos, Angular manté tot junt per facilitar el manteniment.</p>

    <p><strong>Component com a peça de LEGO:</strong></p>
    <ul>
      <li><strong>Independent:</strong> funciona sol sense dependre d'altres</li>
      <li><strong>Forma i color propis:</strong> aspecte visual definit</li>
      <li><strong>Composable:</strong> es connecta amb altres peces</li>
      <li><strong>Reutilitzable:</strong> mateixa peça en múltiples construccions</li>
    </ul>

    <p><strong>Exemples al catàleg d'elements:</strong></p>
    <ul>
      <li><strong>Targeta element:</strong> mostra informació bàsica (títol, descripció, imatge)</li>
      <li><strong>Llista elements:</strong> organitza múltiples targetes en graella</li>
      <li><strong>Barra cerca:</strong> captura text i emet esdeveniments</li>
    </ul>

    <p>Quan un component és independent, guanyem previsibilitat (sabem què fa), substitució (canviar sense trencar altres parts), proves aïllades i documentació clara.</p>

    {% include success_box.html contingut="<strong>Clau:</strong> Els components són peces autònomes i reutilitzables que faciliten desenvolupament, manteniment i escalabilitat." %}

    <h4>1.4.3. Resultat esperat</h4>
    <p>Compreneu que Angular es basa en components com a blocs de construcció principals.</p>
  {% endcapture %}
  {% include section-point.html numero="1.4" titol="Què és un component: peça independent i reutilitzable" contingut=section_point_1_4 %}

  {% capture section_point_1_5 %}
    <h4>1.5.1. Objectiu</h4>
    <p>Entendre per què dividir la interfície en components és superior a fitxers monolítics.</p>

    <h4>1.5.2. Contingut</h4>

    <p><strong>Comparativa visual:</strong></p>

    <p><strong>Monolític <i class="bi bi-x-circle text-danger" aria-hidden="true"></i>:</strong> <code>app.component.html</code> (500 línies) amb capçalera, cerca, 100 targetes, paginació i peu barrejats. Difícil de llegir, impossible reutilitzar, canvis trenquen funcionalitats no relacionades.</p>

    <p><strong>Modular <i class="bi bi-check-circle text-success" aria-hidden="true"></i>:</strong> <code>app.component.html</code> (30 línies) amb <code>&lt;app-capcalera&gt;</code>, <code>&lt;app-cerca&gt;</code>, <code>&lt;app-targeta&gt;</code> per cada element. Cada component 50-80 línies màxim, fàcil d'entendre i reutilitzar.</p>

    <p><strong>Principis clau:</strong></p>

    <p><strong>Responsabilitat única:</strong> Cada component fa una cosa i la fa bé. Exemple: component "Targeta" només mostra informació d'un element, no gestiona cerca ni paginació.</p>

    <p><strong>Composició:</strong> Components complexos es construeixen amb components simples. Exemple: <code>PaginaElements</code> conté <code>LlistaElements</code> que conté múltiples <code>TargetaElement</code>.</p>

    <p><strong>Arbre de components del catàleg:</strong></p>

    {% capture code_12 %}AppComponent
├── CapcaleraComponent
├── PaginaIniciComponent
│   ├── BarraCercaComponent
│   └── LlistaElementsComponent
│       └── TargetaElementComponent (× N)
└── PeuPaginaComponent{% endcapture %}
    {% include code-block.html lang="text" code=code_12 %}

    <p><strong>Beneficis mesurables:</strong></p>
    <ul>
      <li>Línies per fitxer: 500+ → 50-80</li>
      <li>Temps comprensió: 30 min → 5 min</li>
      <li>Reutilització: 0% → 80%</li>
    </ul>

    {% include success_box.html contingut="<strong>Clau:</strong> Dividir la interfície en components facilita manteniment, col·laboració i escalabilitat." %}

    <h4>1.5.3. Resultat esperat</h4>
    <p>Esteu convençuts que l'arquitectura basada en components és superior al codi monolític.</p>
  {% endcapture %}
  {% include section-point.html numero="1.5" titol="Arquitectura basada en components: avantatges de dividir la interfície" contingut=section_point_1_5 %}

  {% capture section_point_1_6 %}
    <h4>1.6.1. Objectiu</h4>
    <p>Entendre les tres parts d'un component Angular i com interaccionen.</p>

    <h4>1.6.2. Contingut</h4>

    <p>Tot component Angular té <strong>tres arxius</strong> principals:</p>

    <p><strong>1. Classe TypeScript (.ts) - El cervell:</strong></p>

    {% capture code_13 %}import { Component } from '@angular/core';

@Component({
  selector: 'app-targeta-element',
  standalone: true,
  templateUrl: './targeta-element.component.html',
  styleUrl: './targeta-element.component.scss'
})
export class TargetaElementComponent {
  titol = 'Element destacat';
  descripcio = 'Descripció de l\'element.';

  obtenirResum(): string {
    return this.descripcio.substring(0, 50) + '...';
  }
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_13 %}

    <p><strong>Decorador @Component:</strong> Defineix metadades (selector, plantilla, estils). <strong>Propietats:</strong> Variables amb dades accessibles des de la plantilla. <strong>Mètodes:</strong> Funcions que encapsulen comportament.</p>

    <p><strong>2. Plantilla HTML (.html) - El cos:</strong></p>

    {% capture code_14 %}<article class="targeta">
  <h2>{{ titol }}</h2>
  <p>{{ descripcio }}</p>
</article>{% endcapture %}
    {% include code-block.html lang="html" code=code_14 %}

    <p><strong>Interpolació <code>{% raw %}{{ }}{% endraw %}</code>:</strong> Mostra valors de propietats. Avaluarem altres sintaxis (property binding, event binding, directives) en lectures posteriors.</p>

    <p><strong>3. Estils SCSS (.scss) - La pell:</strong></p>

    {% capture code_15 %}.targeta {
  border: 1px solid #d0d7de;
  border-radius: 8px;
  padding: 1.5rem;

  h2 { color: #1f2937; }
  p { color: #6b7280; }
}{% endcapture %}
    {% include code-block.html lang="scss" code=code_15 %}

    <p><strong>Encapsulació:</strong> Els estils només afecten aquest component gràcies a ViewEncapsulation. Angular afegeix atributs únics (<code>_ngcontent-xxx</code>) per aïllar estils.</p>

    <p><strong>Connexió entre fitxers:</strong> La classe referencia plantilla i estils mitjançant el decorador. La plantilla accedeix a propietats i mètodes de la classe. Els estils només afecten elements d'aquesta plantilla.</p>

    {% include success_box.html contingut="<strong>Clau:</strong> Component = Classe (lògica) + Plantilla (estructura) + Estils (aspecte). Les tres parts treballen juntes de forma encapsulada." %}

    <h4>1.6.3. Resultat esperat</h4>
    <p>Enteneu la separació de responsabilitats i la relació entre els tres arxius.</p>
  {% endcapture %}
  {% include section-point.html numero="1.6" titol="Estructura d'un component: classe, plantilla i estils" contingut=section_point_1_6 %}

  {% capture section_point_1_7 %}
    <h4>1.7.1. Objectiu</h4>
    <p>Aprendre a generar components amb Angular CLI i entendre les opcions disponibles.</p>

    <h4>1.7.2. Contingut</h4>

    <p>La comanda bàsica per generar components és:</p>

    {% capture code_16 %}ng generate component nom-component
# o versió curta
ng g c nom-component{% endcapture %}
    {% include code-block.html lang="bash" code=code_16 %}

    <p><strong>Opcions principals:</strong></p>

    <p><strong><code>--skip-tests</code></strong> → No genera arxiu .spec.ts (tests)</p>

    {% capture code_17 %}ng g c targeta-element --skip-tests{% endcapture %}
    {% include code-block.html lang="bash" code=code_17 %}

    <p><strong><code>--style=scss|css|less</code></strong> → Especifica preprocessador (per defecte usa configuració del projecte)</p>

    <p><strong><code>--inline-template</code></strong> → Plantilla dins del .ts en lloc d'arxiu .html separat</p>

    <p><strong><code>--inline-style</code></strong> → Estils dins del .ts en lloc d'arxiu .scss separat</p>

    <p><strong><code>--flat</code></strong> → Genera arxius sense crear carpeta pròpia (poc recomanat)</p>

    <p><strong>On es genera el component:</strong></p>

    <p>Per defecte, <code>ng g c nom-component</code> crea:</p>

    {% capture code_18 %}src/app/
└── nom-component/
    ├── nom-component.component.ts
    ├── nom-component.component.html
    ├── nom-component.component.scss
    └── nom-component.component.spec.ts{% endcapture %}
    {% include code-block.html lang="text" code=code_18 %}

    <p><strong>Generar dins d'una subcarpeta:</strong></p>

    {% capture code_19 %}ng g c components/targeta-element{% endcapture %}
    {% include code-block.html lang="bash" code=code_19 %}

    <p>Resultat:</p>

    {% capture code_20 %}src/app/components/
└── targeta-element/
    ├── targeta-element.component.ts
    ├── targeta-element.component.html
    ├── targeta-element.component.scss
    └── targeta-element.component.spec.ts{% endcapture %}
    {% include code-block.html lang="text" code=code_20 %}

    <p><strong>Convencions de nomenclatura:</strong></p>
    <ul>
      <li>Nom en kebab-case: <code>targeta-element</code></li>
      <li>Classe en PascalCase: <code>TargetaElementComponent</code></li>
      <li>Selector: <code>app-targeta-element</code></li>
      <li>Arxius: <code>targeta-element.component.{ts,html,scss}</code></li>
    </ul>

    {% include success_box.html contingut="<strong>Clau:</strong> Angular CLI automatitza la creació de components amb la sintaxi <code>ng g c nom</code>. Els components es generen com a standalone per defecte a Angular 18." %}

    <h4>1.7.3. Resultat esperat</h4>
    <p>Sabeu generar components amb la CLI i entendre on es creen els arxius.</p>
  {% endcapture %}
  {% include section-point.html numero="1.7" titol="Comanda de creació amb la CLI: sintaxi, opcions, on es genera" contingut=section_point_1_7 %}

  {% capture section_point_1_8 %}
    <h4>1.8.1. Objectiu</h4>
    <p>Generar el vostre primer component del catàleg d'elements amb Angular CLI.</p>

    <h4>1.8.2. Contingut</h4>

    <p><strong>Pas 1:</strong> Obriu el terminal integrat de VS Code (Ctrl+`) i assegureu-vos d'estar a la carpeta del projecte:</p>

    {% capture code_21 %}cd ~/workspace/cataleg-elements  # macOS/Linux
cd %USERPROFILE%\workspace\cataleg-elements  # Windows{% endcapture %}
    {% include code-block.html lang="bash" code=code_21 %}

    <p><strong>Pas 2:</strong> Genereu el component dins de la carpeta <code>components</code>:</p>

    {% capture code_22 %}ng generate component components/targeta-element{% endcapture %}
    {% include code-block.html lang="bash" code=code_22 %}

    <p><strong>Sortida del terminal:</strong></p>

    {% capture code_23 %}CREATE src/app/components/targeta-element/targeta-element.component.scss (0 bytes)
CREATE src/app/components/targeta-element/targeta-element.component.html (36 bytes)
CREATE src/app/components/targeta-element/targeta-element.component.spec.ts (639 bytes)
CREATE src/app/components/targeta-element/targeta-element.component.ts (308 bytes){% endcapture %}
    {% include code-block.html lang="text" code=code_23 %}

    <p><strong>Verificació:</strong> A l'explorador de VS Code, veieu la nova carpeta <code>src/app/components/targeta-element/</code> amb 4 arxius.</p>

    <p><strong>Pas 3:</strong> Obriu <code>targeta-element.component.ts</code> i observeu l'estructura generada:</p>

    {% capture code_24 %}import { Component } from '@angular/core';

@Component({
  selector: 'app-targeta-element',
  standalone: true,
  imports: [],
  templateUrl: './targeta-element.component.html',
  styleUrl: './targeta-element.component.scss'
})
export class TargetaElementComponent {

}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_24 %}

    <p><strong>Pas 4:</strong> Afegiu propietats per emmagatzemar dades de l'element:</p>

    {% capture code_25 %}export class TargetaElementComponent {
  titol = 'Element destacat del catàleg';
  descripcio = 'Aquesta és una targeta bàsica que mostra informació d\'un element. Serà reutilitzable per tots els elements del catàleg.';
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_25 %}

    {% include success_box.html contingut="<strong>Clau:</strong> Angular CLI genera automàticament l'estructura bàsica. Afegiu propietats a la classe per emmagatzemar dades que s'usaran a la plantilla." %}

    <h4>1.8.3. Resultat esperat</h4>
    <p>Teniu el component <code>TargetaElementComponent</code> creat amb propietats inicials.</p>
  {% endcapture %}
  {% include section-point.html numero="1.8" titol="Crear primer component: targeta bàsica amb títol i descripció" contingut=section_point_1_8 %}

  {% capture section_point_1_9 %}
    <h4>1.9.1. Objectiu</h4>
    <p>Explorar en detall els arxius generats i personalitzar-los.</p>

    <h4>1.9.2. Contingut</h4>

    <p><strong>Arxiu 1: targeta-element.component.html</strong></p>

    <p>Obriu la plantilla i substituïu el contingut per defecte:</p>

    {% capture code_26 %}<article class="targeta">
  <h2 class="targeta__titol">{{ titol }}</h2>
  <p class="targeta__descripcio">{{ descripcio }}</p>
</article>{% endcapture %}
    {% include code-block.html lang="html" code=code_26 %}

    <p><strong>Interpolació:</strong> Les claus dobles <code>{% raw %}{{ }}{% endraw %}</code> mostren el valor de les propietats definides a la classe. Angular substitueix <code>{% raw %}{{ titol }}{% endraw %}</code> pel valor real quan renderitza.</p>

    <p><strong>Arxiu 2: targeta-element.component.scss</strong></p>

    <p>Afegiu estils per donar aspecte visual a la targeta:</p>

    {% capture code_27 %}.targeta {
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 1.5rem;
  background: #ffffff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  transition: box-shadow 0.2s;

  &:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
  }

  &__titol {
    margin: 0 0 0.75rem;
    font-size: 1.25rem;
    font-weight: 600;
    color: #1f2937;
  }

  &__descripcio {
    margin: 0;
    font-size: 0.95rem;
    color: #6b7280;
    line-height: 1.6;
  }
}{% endcapture %}
    {% include code-block.html lang="scss" code=code_27 %}

    <p><strong>Nomenclatura BEM:</strong> Usem classes amb sintaxi BEM (Block Element Modifier) per mantenir estils organitzats: <code>.targeta</code>, <code>.targeta__titol</code>, <code>.targeta__descripcio</code>.</p>

    <p><strong>Encapsulació:</strong> Aquests estils només afectaran aquest component, no altres parts de l'aplicació.</p>

    <p><strong>Arxiu 3: targeta-element.component.ts (revisió final)</strong></p>

    <p>Verifiqueu que la classe té aquesta estructura:</p>

    {% capture code_28 %}import { Component } from '@angular/core';

@Component({
  selector: 'app-targeta-element',
  standalone: true,
  imports: [],
  templateUrl: './targeta-element.component.html',
  styleUrl: './targeta-element.component.scss'
})
export class TargetaElementComponent {
  titol = 'Element destacat del catàleg';
  descripcio = 'Aquesta és una targeta bàsica que mostra informació d\'un element. Serà reutilitzable per tots els elements del catàleg.';
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_28 %}

    {% capture clau_arxius %}
<strong>Clau:</strong> Plantilla (HTML) + Estils (SCSS) + Lògica (TS) treballen junts. La interpolació <code>{% raw %}{{ }}{% endraw %}</code> connecta propietats TypeScript amb la plantilla.
    {% endcapture %}
    {% include success_box.html contingut=clau_arxius %}

    <h4>1.9.3. Resultat esperat</h4>
    <p>Els tres arxius estan personalitzats i entesos. Sabeu com es relacionen entre ells.</p>
  {% endcapture %}
  {% include section-point.html numero="1.9" titol="Explorar arxius generats: classe TypeScript, plantilla HTML, arxiu d'estils" contingut=section_point_1_9 %}

  {% capture section_point_1_10 %}
    <h4>1.10.1. Objectiu</h4>
    <p>Integrar el component creat a l'aplicació principal perquè sigui visible.</p>

    <h4>1.10.2. Contingut</h4>

    <p><strong>Pas 1:</strong> Obriu <code>src/app/app.component.ts</code> i importeu el component:</p>

    {% capture code_29 %}import { Component } from '@angular/core';
import { RouterOutlet } from '@angular/router';
import { TargetaElementComponent } from './components/targeta-element/targeta-element.component';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [RouterOutlet, TargetaElementComponent],  // Afegiu aquí
  templateUrl: './app.component.html',
  styleUrl: './app.component.scss'
})
export class AppComponent {
  title = 'cataleg-elements';
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_29 %}

    <p><strong>Important:</strong> Els components standalone s'han d'afegir a l'array <code>imports</code> per poder-los utilitzar a la plantilla.</p>

    <p><strong>Pas 2:</strong> Obriu <code>src/app/app.component.html</code> i substituïu tot el contingut per:</p>

    {% capture code_30 %}<div class="contenidor">
  <h1>Catàleg d'Elements</h1>
  <p class="subtitol">Benvingut al catàleg interactiu d'elements</p>

  <section class="llista-elements">
    <app-targeta-element></app-targeta-element>
  </section>
</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_30 %}

    <p><strong>Selector:</strong> L'etiqueta <code>&lt;app-targeta-element&gt;</code> és el <strong>selector</strong> definit al decorador del component. Angular substitueix aquesta etiqueta pel contingut de la plantilla del component.</p>

    <p><strong>Pas 3:</strong> Afegiu estils bàsics a <code>src/app/app.component.scss</code>:</p>

    {% capture code_31 %}.contenidor {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

h1 {
  color: #1f2937;
  margin-bottom: 0.5rem;
}

.subtitol {
  color: #6b7280;
  margin-bottom: 2rem;
}

.llista-elements {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
}{% endcapture %}
    {% include code-block.html lang="scss" code=code_31 %}

    {% include success_box.html contingut="<strong>Clau:</strong> Per usar un component standalone, cal: 1) Importar la classe al component pare, 2) Afegir-la a l'array <code>imports</code>, 3) Usar el selector a la plantilla." %}

    <h4>1.10.3. Resultat esperat</h4>
    <p>El component <code>TargetaElementComponent</code> està integrat a l'aplicació principal i llest per visualitzar.</p>
  {% endcapture %}
  {% include section-point.html numero="1.10" titol="Integrar component a l'aplicació: selector i ús al component principal" contingut=section_point_1_10 %}

  {% capture section_point_1_11 %}
    <h4>1.11.1. Objectiu</h4>
    <p>Comprovar que el component es renderitza correctament al navegador.</p>

    <h4>1.11.2. Contingut</h4>

    <p><strong>Pas 1:</strong> Si el servidor no està executant-se, arrenqueu-lo:</p>

    {% capture code_32 %}ng serve{% endcapture %}
    {% include code-block.html lang="bash" code=code_32 %}

    <p>Espereu el missatge: <code>✔ Compiled successfully.</code></p>

    <p><strong>Pas 2:</strong> Obriu el navegador a <code>http://localhost:4200</code></p>

    <p><strong>Resultat esperat:</strong></p>
    <ul>
      <li>Veieu el títol "Catàleg d'Elements"</li>
      <li>Veieu el subtítol "Benvingut al catàleg interactiu"</li>
      <li>Veieu la targeta amb el títol "Element destacat del catàleg" i la descripció</li>
    </ul>

    <p><strong>Pas 3:</strong> Obriu les DevTools (F12) i inspeccioneu l'element de la targeta. Observeu que Angular ha afegit atributs especials per encapsular els estils:</p>

    {% capture code_33 %}<app-targeta-element _nghost-ng-c123456>
  <article _ngcontent-ng-c123456 class="targeta">
    <h2 _ngcontent-ng-c123456 class="targeta__titol">Element destacat del catàleg</h2>
    <p _ngcontent-ng-c123456 class="targeta__descripcio">...</p>
  </article>
</app-targeta-element>{% endcapture %}
    {% include code-block.html lang="html" code=code_33 %}

    <p>Els atributs <code>_nghost</code> i <code>_ngcontent</code> són afegits automàticament per Angular per implementar l'encapsulació d'estils.</p>

    <p><strong>Pas 4:</strong> Proveu el hot reload: canvieu el text de <code>titol</code> a <code>targeta-element.component.ts</code>:</p>

    {% capture code_34 %}titol = 'Element modificat en temps real';{% endcapture %}
    {% include code-block.html lang="typescript" code=code_34 %}

    <p>Deseu (Ctrl+S) i verifiqueu que el canvi es reflecteix automàticament al navegador sense recarregar.</p>

    {% include success_box.html contingut="<strong>Clau:</strong> El component funciona correctament quan es visualitza al navegador amb els estils aplicats i les dades interpolades. El hot reload permet veure canvis instantàniament." %}

    <h4>1.11.3. Resultat esperat</h4>
    <p>El vostre primer component està operatiu i visible al navegador. Enteneu el flux complet de creació-integració-visualització.</p>
  {% endcapture %}
  {% include section-point.html numero="1.11" titol="Verificar al navegador: component visible amb contingut bàsic" contingut=section_point_1_11 %}

  {% capture section_point_1_12 %}
    <p>Creeu un component més elaborat amb imatge i botó d'acció:</p>

    <p><strong>targeta-element-complet.component.ts:</strong></p>

    {% capture code_35 %}import { Component } from '@angular/core';

@Component({
  selector: 'app-targeta-element-complet',
  standalone: true,
  templateUrl: './targeta-element-complet.component.html',
  styleUrl: './targeta-element-complet.component.scss'
})
export class TargetaElementCompletComponent {
  titol = 'Microscopi Electrònic';
  descripcio = 'Microscopi d\'alta resolució per a investigació científica avançada. Capacitat d\'ampliació fins a 100.000x.';
  categoria = 'Equip de laboratori';
  preu = 45000;
  imatge = 'https://via.placeholder.com/300x200';

  veureDetalls(): void {
    console.log(`Veient detalls de: ${this.titol}`);
  }
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_35 %}

    <p><strong>targeta-element-complet.component.html:</strong></p>

    {% capture code_36 %}<article class="targeta-completa">
  <img [src]="imatge" [alt]="titol" class="targeta-completa__imatge">

  <div class="targeta-completa__contingut">
    <span class="targeta-completa__categoria">{{ categoria }}</span>
    <h3 class="targeta-completa__titol">{{ titol }}</h3>
    <p class="targeta-completa__descripcio">{{ descripcio }}</p>

    <div class="targeta-completa__peu">
      <span class="targeta-completa__preu">{{ preu }}€</span>
      <button class="targeta-completa__boto" (click)="veureDetalls()">
        Veure detalls
      </button>
    </div>
  </div>
</article>{% endcapture %}
    {% include code-block.html lang="html" code=code_36 %}

    <p><strong>targeta-element-complet.component.scss:</strong></p>

    {% capture code_37 %}.targeta-completa {
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  overflow: hidden;
  background: #ffffff;
  transition: transform 0.2s, box-shadow 0.2s;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
  }

  &__imatge {
    width: 100%;
    height: 200px;
    object-fit: cover;
    display: block;
  }

  &__contingut {
    padding: 1.5rem;
  }

  &__categoria {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    background: #e0e7ff;
    color: #4338ca;
    font-size: 0.75rem;
    font-weight: 600;
    border-radius: 4px;
    text-transform: uppercase;
    margin-bottom: 0.75rem;
  }

  &__titol {
    margin: 0 0 0.5rem;
    font-size: 1.25rem;
    font-weight: 600;
    color: #1f2937;
  }

  &__descripcio {
    margin: 0 0 1rem;
    font-size: 0.95rem;
    color: #6b7280;
    line-height: 1.6;
  }

  &__peu {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 1rem;
    border-top: 1px solid #e5e7eb;
  }

  &__preu {
    font-size: 1.5rem;
    font-weight: 700;
    color: #059669;
  }

  &__boto {
    padding: 0.5rem 1.25rem;
    background: #3b82f6;
    color: #ffffff;
    border: none;
    border-radius: 6px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;

    &:hover {
      background: #2563eb;
    }
  }
}{% endcapture %}
    {% include code-block.html lang="scss" code=code_37 %}

    <p>Aquest exemple mostra:</p>
    <ul>
      <li><strong>Property binding:</strong> <code>[src]</code>, <code>[alt]</code></li>
      <li><strong>Event binding:</strong> <code>(click)</code></li>
      <li><strong>Interpolació:</strong> <code>{{ titol }}</code>, <code>{{ preu }}</code></li>
      <li><strong>Estils avançats</strong> amb hover i transicions</li>
    </ul>
  {% endcapture %}
  {% include section-point.html numero="1.12" titol="Mini exemple pràctic · Component targeta complet" contingut=section_point_1_12 %}

  {% capture section_point_1_13 %}
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Símptoma</th>
          <th>Causa</th>
          <th>Solució</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>ng: command not found</code></td>
          <td>Angular CLI no instal·lada o PATH incorrecte</td>
          <td>Instal·leu: <code>npm install -g @angular/cli</code>. <strong>Windows:</strong> Reinicieu PowerShell. <strong>Linux/macOS:</strong> <code>source ~/.bashrc</code> o <code>~/.zshrc</code></td>
        </tr>
        <tr>
          <td>Component no es veu al navegador</td>
          <td>No importat a <code>app.component.ts</code></td>
          <td>Afegiu la classe al array <code>imports: [TargetaElementComponent]</code></td>
        </tr>
        <tr>
          <td>Estils no s'apliquen</td>
          <td>Encapsulació o selector incorrecte</td>
          <td>Verifiqueu que les classes CSS coincideixen amb la plantilla HTML</td>
        </tr>
        <tr>
          <td>Error "Cannot find module"</td>
          <td>Import incorrecte</td>
          <td>Verifiqueu la ruta d'importació: <code>./components/targeta-element/targeta-element.component</code></td>
        </tr>
        <tr>
          <td>Plantilla no actualitza canvis</td>
          <td>Cache navegador</td>
          <td>Hard refresh: Ctrl+Shift+R (Win/Linux) o Cmd+Shift+R (macOS)</td>
        </tr>
        <tr>
          <td>Error "selector already declared"</td>
          <td>Nom de selector duplicat</td>
          <td>Canvieu el selector a un nom únic al decorador <code>@Component</code></td>
        </tr>
      </tbody>
    </table>
  {% endcapture %}
  {% include section-point.html numero="1.13" titol="Resolució de problemes (Win/macOS/Linux)" contingut=section_point_1_13 %}

  {% capture section_point_1_14 %}
  {% capture prompt_1 %}<strong>Rol:</strong> desenvolupador Angular expert. <strong>Context:</strong> estic creant un catàleg d'elements i necessito un component per mostrar informació detallada. <strong>Tasca:</strong> genera el codi complet (TypeScript, HTML i SCSS) per a un component anomenat "DetallElementComponent" que inclogui: títol, descripció llarga, imatge gran (600x400), llista de característiques (array), preu, botó "Afegir al carret" i botó "Comparar". Utilitza nomenclatura BEM per als estils i proporciona codi TypeScript amb propietats tipades. <strong>Format:</strong> tres blocs de codi separats clarament etiquetats.{% endcapture %}
  {% include prompt-ai.html contingut=prompt_1 %}

  {% capture prompt_2 %}<strong>Rol:</strong> consultor tècnic Angular. <strong>Context:</strong> he creat un component nou però obtenint l'error "NullInjectorError: No provider for TargetaElementComponent". <strong>Tasca:</strong> explica pas a pas com resoldre aquest error, incloent: verificació de la importació al component pare, comprovació de l'array imports, verificació del selector a la plantilla. Proporciona exemple de codi correcte per a un component standalone. <strong>Format:</strong> llista numerada amb 5 passos, cadascun amb explicació i exemple de codi.{% endcapture %}
  {% include prompt-ai.html contingut=prompt_2 %}

  {% capture prompt_3 %}<strong>Rol:</strong> arquitecte Angular sènior. <strong>Context:</strong> tinc un catàleg amb 500 elements mostrats amb components, i l'aplicació va lenta. <strong>Tasca:</strong> proposa 5 estratègies d'optimització específiques per a components Angular: lazy loading, OnPush change detection, virtual scrolling, trackBy a *ngFor, i memoization. Per cada estratègia: explica el problema que resol, proporciona exemple de codi, indica quan usar-la i quan NO usar-la. <strong>Format:</strong> 5 seccions amb subseccions Problema/Solució/Codi/Quan usar.{% endcapture %}
  {% include prompt-ai.html contingut=prompt_3 %}
  {% endcapture %}
  {% include section-point.html numero="1.14" titol="Prompts d'IA" contingut=section_point_1_14 %}

  {% capture section_point_1_15 %}
    <h4>Conceptes teòrics</h4>
    {% include checklist.html elements="Sé explicar què és un component Angular i les seves tres parts|Entenc per què dividir la interfície en components és millor que codi monolític|Comprenc què és l'encapsulació d'estils i com funciona|Sé què són els components standalone i per què són el model modern" %}

    <h4>Habilitats pràctiques</h4>
    {% capture checklist_practiques %}Puc generar un component amb Angular CLI (ng g c nom)|Sé afegir propietats a la classe TypeScript del component|Puc utilitzar interpolació {% raw %}{{ }}{% endraw %} per mostrar dades a la plantilla|Sé aplicar estils SCSS a un component|Puc integrar un component al component pare (importar + afegir a imports + usar selector)|Sé verificar que el component funciona al navegador{% endcapture %}
    {% include checklist.html elements=checklist_practiques %}

    <h4>Resolució de problemes</h4>
    {% include checklist.html elements="Sé què fer si el component no es veu al navegador|Puc diagnosticar errors d'importació de components|Entenc com funciona el hot reload i què fer si no funciona" %}
  {% endcapture %}
  {% include section-point.html numero="1.15" titol="Autoavaluació" contingut=section_point_1_15 %}

  {% capture section_point_1_16 %}
    <h4>Què heu après</h4>
    <p>En aquesta lectura heu après els <strong>fonaments dels components Angular</strong>:</p>
    <ol>
      <li><strong>Concepte:</strong> Component = Lògica (TS) + Plantilla (HTML) + Estils (SCSS)</li>
      <li><strong>Avantatges:</strong> Reutilització, mantenibilitat, col·laboració, testing aïllat</li>
      <li><strong>Creació:</strong> Angular CLI automatitza amb <code>ng generate component nom</code></li>
      <li><strong>Integració:</strong> Importar classe, afegir a <code>imports</code>, usar selector a plantilla</li>
      <li><strong>Visualització:</strong> Verificar al navegador que renderitza correctament</li>
    </ol>

    <h4>Connexions amb altres lectures</h4>
    <ul>
      <li><strong>Lectura 2.1.2:</strong> Aprendre <code>@Input</code> per passar dades als components</li>
      <li><strong>Lectura 2.1.3:</strong> Aprendre <code>@Output</code> per rebre esdeveniments dels components</li>
      <li><strong>Lectura 2.2.1:</strong> Utilitzar <code>*ngFor</code> per mostrar múltiples components</li>
      <li><strong>Lectura 2.2.2:</strong> Aplicar <code>*ngIf</code> per mostrar components condicionalment</li>
    </ul>

    <h4>Aplicació al projecte</h4>
    <p>Al cas d'ús de la Unitat 2 creareu múltiples components per al catàleg: targeta d'element, llista d'elements, barra de cerca i paginació. Tots seguiran el patró après en aquesta lectura.</p>
  {% endcapture %}
  {% include section-point.html numero="1.16" titol="Síntesi" contingut=section_point_1_16 %}

  {% capture section_point_1_17 %}
    {% include definicio.html terme="Component Angular" definicio="Peça independent amb lògica + plantilla + estils. Reutilitzable múltiples vegades amb encapsulació d'estils (només afecten el component)." %}

    {% include definicio.html terme="Creació amb CLI" definicio="<code>ng generate component nom-component</code> o <code>ng g c components/nom-component</code> (dins de subcarpeta)" %}

    {% capture def_estructura %}
<code>.ts</code> → Classe amb decorador @Component<br>
<code>.html</code> → Plantilla amb interpolació {% raw %}{{ }}{% endraw %}<br>
<code>.scss</code> → Estils encapsulats<br>
<code>.spec.ts</code> → Tests unitaris
    {% endcapture %}
    {% include definicio.html terme="Estructura generada" definicio=def_estructura %}

    {% include definicio.html terme="Integració de components" definicio="1. Importar classe al component pare<br>2. Afegir a array <code>imports</code><br>3. Usar selector a plantilla: <code>&lt;app-nom-component&gt;</code>" %}

    {% capture def_interpolacio %}
A la classe TypeScript: <code>titol = 'Hola món';</code><br>
A la plantilla HTML: <code>&lt;h1&gt;{% raw %}{{ titol }}{% endraw %}&lt;/h1&gt;</code>
    {% endcapture %}
    {% include definicio.html terme="Interpolació bàsica" definicio=def_interpolacio %}

    {% include definicio.html terme="ViewEncapsulation" definicio="Angular afegeix atributs únics (<code>_ngcontent-xxx</code>) per aïllar estils de cada component, evitant que els estils d'un component afectin altres parts de l'aplicació." %}
  {% endcapture %}
  {% include section-point.html numero="1.17" titol="Repàs de conceptes" contingut=section_point_1_17 %}

</div>

<!-- SECCIÓ 2: Interpolació i vinculació de propietats -->
<div class="section" id="Unitat2_Bloc1_Seccio2">
  <h2 id="Unitat2_Bloc1_Seccio2">2. Interpolació i vinculació de propietats</h2>

  <!-- MULTIMÈDIA -->
  {% include multimedia-youtube.html unitat=2 bloc=1 seccio=2 %}


  {% capture objectius_seccio2 %}
Comprendre les diferències entre dades estàtiques i dinàmiques a la interfície, identificant quan és necessari utilitzar vinculació de dades per actualitzar el contingut automàticament|Dominar la sintaxi d'interpolació (<code>{% raw %}{{ expressió }}{% endraw %}</code>) per mostrar text dinàmic i la sintaxi de vinculació de propietats (<code>[propietat]="expressió"</code>) per controlar atributs i propietats HTML|Aplicar bones pràctiques de vinculació: mantenir la lògica a la classe del component, utilitzar expressions senzilles a la plantilla i assegurar que les dades es mostren de forma accessible i coherent
  {% endcapture %}
  {% include objectius.html llista=objectius_seccio2 %}

  {% include info_box.html contingut="<strong>RA2 · Criteri 2</strong> — Mostra informació dinàmica utilitzant tècniques de vinculació de dades i plantilles." %}

  {% capture section_point_2_1 %}
    <p>Abans de començar, necessiteu:</p>
    <ul>
      <li><strong>Lectura 2.1.1</strong> — Component <code>targeta-element</code> creat i funcional</li>
      <li><strong>Projecte operatiu:</strong> <code>cataleg-elements</code> amb servidor executant-se</li>
      <li><strong>VS Code obert:</strong> Terminal integrada disponible</li>
    </ul>

    <p><strong>Verificació ràpida:</strong></p>

    {% capture code_38 %}cd ~/workspace/cataleg-elements
ng serve{% endcapture %}
    {% include code-block.html lang="bash" code=code_38 %}

    <p><strong>Punt d'autocomprovació:</strong> Servidor operatiu a localhost:4200 amb component visible.</p>
  {% endcapture %}
  {% include section-point.html numero="2.1" titol="Prerequisits" contingut=section_point_2_1 %}

  {% capture section_point_2_2 %}
    <h4>2.2.1. Què és la vinculació de dades</h4>

    <p>La <strong>vinculació de dades</strong> (data binding) és el mecanisme que connecta les propietats de la classe TypeScript del component amb la plantilla HTML, permetent que la interfície es mantingui sincronitzada automàticament amb l'estat de l'aplicació.</p>

    <p><strong>Diferència clau:</strong></p>
    <ul>
      <li><strong>Dades estàtiques:</strong> Escrites directament al HTML, mai canvien</li>
      <li><strong>Dades dinàmiques:</strong> Vinculades a propietats, canvien segons l'estat</li>
    </ul>

    <h4>2.2.2. Problema sense vinculació de dades</h4>

    <p>Abans d'Angular i els frameworks moderns, actualitzar contingut dinàmic requeria manipular el DOM manualment amb JavaScript.</p>

    <p><strong>Situació sense vinculació:</strong></p>

    {% capture code_39 %}<!-- index.html -->
<article class="targeta">
  <h2 id="titol-1">Element 1</h2>
  <p id="desc-1">Descripció element 1</p>
  <img id="img-1" src="element1.jpg">
</article>
<article class="targeta">
  <h2 id="titol-2">Element 2</h2>
  <p id="desc-2">Descripció element 2</p>
  <img id="img-2" src="element2.jpg">
</article>
<!-- Repetir 98 vegades més amb IDs únics... -->{% endcapture %}
    {% include code-block.html lang="html" code=code_39 %}

    {% capture code_40 %}// app.js - Manipulació manual del DOM
const elements = [
  { titol: 'Element 1', descripcio: 'Descripció 1', imatge: 'element1.jpg' },
  { titol: 'Element 2', descripcio: 'Descripció 2', imatge: 'element2.jpg' },
  // ... 98 més
];

// Actualitzar cada element manualment
elements.forEach((element, index) => {
  const id = index + 1;
  document.getElementById(`titol-${id}`).textContent = element.titol;
  document.getElementById(`desc-${id}`).textContent = element.descripcio;
  document.getElementById(`img-${id}`).src = element.imatge;
});

// I això per cada canvi de dades...{% endcapture %}
    {% include code-block.html lang="javascript" code=code_40 %}

    <p><strong>Problemes que genera:</strong></p>

    <p><strong>1. Codi verbós i repetitiu</strong><br>
    Actualitzar 100 elements requereix 300 línies de codi JavaScript per manipular el DOM. Cada propietat (títol, descripció, imatge) necessita una línia <code>getElementById()</code> i una assignació. Error en un ID i l'aplicació falla silenciosament.</p>

    <p><strong>2. Sincronització manual propensa a errors</strong><br>
    Quan les dades canvien (usuari filtra, ordena o carrega més elements), heu de recordar actualitzar TOTS els elements del DOM afectats. Si oblideu actualitzar una propietat, la interfície mostra dades desactualitzades. Debugging molt difícil.</p>

    <p><strong>3. Acoplament fort entre lògica i presentació</strong><br>
    El codi JavaScript coneix l'estructura HTML (IDs específics). Canviar el HTML (IDs, estructura) obliga a modificar el JavaScript. Impossible mantenir i escalar.</p>

    <p><strong>4. Rendiment deficient</strong><br>
    Cada canvi de dades requereix múltiples crides a <code>getElementById()</code> i modificacions del DOM. El navegador recalcula estils i fa reflow constants. Aplicacions lentes amb moltes dades.</p>

    <p><strong>5. Testing impossible</strong><br>
    No es pot provar la lògica sense el DOM complet. Els tests han de simular navegador i HTML. Tests lents, fràgils i acoblats.</p>

    <h4>2.2.3. Solució amb vinculació de dades</h4>

    <p>Angular sincronitza automàticament les dades entre classe i plantilla amb sintaxi declarativa.</p>

    <p><strong>Situació amb vinculació:</strong></p>

    {% capture code_41 %}// targeta-element.component.ts
export class TargetaElementComponent {
  @Input() element!: Element;
}

interface Element {
  titol: string;
  descripcio: string;
  imatge: string;
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_41 %}

    {% capture code_42 %}<!-- targeta-element.component.html -->
<article class="targeta">
  <h2>{{ element.titol }}</h2>
  <p>{{ element.descripcio }}</p>
  <img [src]="element.imatge" [alt]="element.titol">
</article>{% endcapture %}
    {% include code-block.html lang="html" code=code_42 %}

    {% capture code_43 %}<!-- app.component.html -->
<app-targeta-element
  *ngFor="let element of elements"
  [element]="element">
</app-targeta-element>{% endcapture %}
    {% include code-block.html lang="html" code=code_43 %}

    <p><strong>Avantatges específics:</strong></p>

    <ul>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Codi declaratiu:</strong> 10 línies de plantilla vs 300 de manipulació DOM. Angular gestiona automàticament les actualitzacions.</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Sincronització automàtica:</strong> Canvieu <code>element.titol</code>, Angular actualitza el DOM immediatament. Zero codi de sincronització manual.</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Desacoplament:</strong> La plantilla no coneix IDs, el TypeScript no coneix el DOM. Podeu canviar HTML sense tocar TypeScript i viceversa.</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Rendiment optimitzat:</strong> Angular usa detecció de canvis eficient amb change detection. Només actualitza parts del DOM que han canviat.</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Testing senzill:</strong> Proveu la lògica del component sense DOM. Angular proporciona TestBed per tests unitaris ràpids.</li>
    </ul>

    <h4>2.2.4. Taula comparativa</h4>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Aspecte</th>
          <th>Sense vinculació</th>
          <th>Amb vinculació</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Actualitzar text</strong></td>
          <td><code>element.textContent = valor</code></td>
          <td><code>{% raw %}{{ valor }}{% endraw %}</code></td>
        </tr>
        <tr>
          <td><strong>Actualitzar atribut</strong></td>
          <td><code>element.setAttribute('src', url)</code></td>
          <td><code>[src]="url"</code></td>
        </tr>
        <tr>
          <td><strong>Sincronització</strong></td>
          <td>Manual amb listeners</td>
          <td>Automàtica</td>
        </tr>
        <tr>
          <td><strong>Rendiment</strong></td>
          <td>Reconstrucció DOM sencera</td>
          <td>Change detection eficient</td>
        </tr>
        <tr>
          <td><strong>Mantenibilitat</strong></td>
          <td>Acoblament fort lògica-DOM</td>
          <td>Separació clara</td>
        </tr>
        <tr>
          <td><strong>Testing</strong></td>
          <td>Requereix DOM complet</td>
          <td>Tests unitaris ràpids</td>
        </tr>
        <tr>
          <td><strong>Línies de codi</strong></td>
          <td>10-20 per actualització</td>
          <td>1 expressió vinculació</td>
        </tr>
      </tbody>
    </table>
  {% endcapture %}
  {% include section-point.html numero="2.2" titol="Marc conceptual" contingut=section_point_2_2 %}

  {% capture section_point_2_3 %}
    <h4>2.3.1. Flux de vinculació de dades</h4>

    {% capture code_44 %}Classe Component (TypeScript)
  ↓ propietats públiques
Plantilla (HTML)
  ↓ {% raw %}{{ }}{% endraw %} o [ ]
Change Detection (Angular)
  ↓ actualitzacions
DOM (Navegador){% endcapture %}
    {% include code-block.html lang="text" code=code_44 %}

    <h4>2.3.2. Els dos tipus de sintaxi</h4>

    {% capture code_45 %}{% raw %}{{ expressió }}{% endraw %}          →  Text dins elements
[propietat]="expressió"  →  Atributs/propietats{% endcapture %}
    {% include code-block.html lang="text" code=code_45 %}

    {% capture success_model_mental %}
<strong>Regla mnemotècnica:</strong> Les claus <code>{% raw %}{{ }}{% endraw %}</code> són com "imprimir" text. Els claudàtors <code>[ ]</code> són com "assignar" propietats.
    {% endcapture %}
    {% include success_box.html contingut=success_model_mental %}
  {% endcapture %}
  {% include section-point.html numero="2.3" titol="Model mental" contingut=section_point_2_3 %}

  {% capture section_point_2_4 %}
    <h4>2.4.1. Objectiu del bloc</h4>
    <p>Entendre la diferència entre contingut estàtic i dinàmic, i per què necessitem vinculació de dades.</p>

    <h4>2.4.2. Contingut</h4>

    <p><strong>Dades estàtiques:</strong> Contingut escrit directament al HTML que mai canvia.</p>

    {% capture code_46 %}<h1>Catàleg d'elements</h1>
<p>Benvingut a la nostra plataforma</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_46 %}

    <p><strong>Dades dinàmiques:</strong> Contingut vinculat a propietats que pot canviar.</p>

    {% capture code_47 %}<h1>{% raw %}{{ titolCataleg }}{% endraw %}</h1>
<p>{% raw %}{{ textBenvinguda }}{% endraw %}</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_47 %}

    <p><strong>Per què necessitem vinculació:</strong></p>
    <ul>
      <li><strong>Reutilització:</strong> Mateix component amb dades diferents</li>
      <li><strong>Reactivitat:</strong> Interfície actualitzada automàticament</li>
      <li><strong>Mantenibilitat:</strong> Dades centralitzades a la classe</li>
      <li><strong>Separació:</strong> Lògica (TS) separada de presentació (HTML)</li>
    </ul>

    <p><strong>Exemple pràctic:</strong> Component targeta que mostra 100 elements diferents. Sense vinculació: 100 components amb HTML diferent. Amb vinculació: 1 component reutilitzat 100 vegades.</p>

    {% include success_box.html contingut="<strong>Clau:</strong> La vinculació connecta propietats TypeScript amb plantilla HTML, permetent interfícies dinàmiques i reutilitzables." %}

    <h4>2.4.3. Resultat esperat</h4>
    <p>Compreneu per què Angular utilitza vinculació de dades en lloc de contingut estàtic.</p>
  {% endcapture %}
  {% include section-point.html numero="2.4" titol="Dades estàtiques vs dinàmiques: per què necessitem vinculació (0-15')" contingut=section_point_2_4 %}

  {% capture section_point_2_5 %}
    <h4>2.5.1. Objectiu del bloc</h4>
    <p>Dominar la interpolació per mostrar text dinàmic a la plantilla.</p>

    <h4>2.5.2. Contingut</h4>

    <p><strong>Sintaxi bàsica:</strong></p>

    {% capture code_48 %}{% raw %}{{ expressió }}{% endraw %}{% endcapture %}
    {% include code-block.html lang="html" code=code_48 %}

    <p>Angular avalua l'expressió i substitueix les claus dobles pel resultat.</p>

    <p><strong>Exemples essencials:</strong></p>

    <p><strong>Propietats simples:</strong></p>

    {% capture code_49 %}titol = 'Microscopi Electrònic';
preu = 45000;
disponible = true;{% endcapture %}
    {% include code-block.html lang="typescript" code=code_49 %}

    {% capture code_50 %}<h2>{% raw %}{{ titol }}{% endraw %}</h2>
<p>Preu: {% raw %}{{ preu }}{% endraw %}€</p>
<p>{% raw %}{{ disponible }}{% endraw %}</p>  <!-- Mostra: true -->{% endcapture %}
    {% include code-block.html lang="html" code=code_50 %}

    <p><strong>Propietats d'objectes:</strong></p>

    {% capture code_51 %}element = {
  nom: 'Microscopi Electrònic',
  categoria: 'Equipament laboratori',
  stock: 5
};{% endcapture %}
    {% include code-block.html lang="typescript" code=code_51 %}

    {% capture code_52 %}<h3>{% raw %}{{ element.nom }}{% endraw %}</h3>
<p>Categoria: {% raw %}{{ element.categoria }}{% endraw %}</p>
<p>Stock: {% raw %}{{ element.stock }}{% endraw %} unitats</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_52 %}

    <p><strong>Getters (propietats calculades):</strong></p>

    {% capture code_53 %}get preuAmbIVA(): number {
  return this.preu * 1.21;
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_53 %}

    {% capture code_54 %}<p>Preu amb IVA: {% raw %}{{ preuAmbIVA }}{% endraw %}€</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_54 %}

    <p><strong>Limitacions:</strong></p>
    <ul>
      <li><i class="bi bi-x-circle" aria-hidden="true"></i> NO funciona per atributs HTML: <code>&lt;img src="{% raw %}{{ url }}{% endraw %}"&gt;</code> (usar <code>[src]</code> en canvi)</li>
      <li><i class="bi bi-x-circle" aria-hidden="true"></i> NO accepta assignacions: <code>{% raw %}{{ titol = 'Nou' }}{% endraw %}</code></li>
      <li><i class="bi bi-x-circle" aria-hidden="true"></i> NO accepta operadors complexos: <code>{% raw %}{{ if (x) ... }}{% endraw %}</code></li>
    </ul>

    {% capture clau_interpolacio %}
<strong>Clau:</strong> Interpolació mostra text dinàmic dins elements HTML. Per atributs, useu property binding <code>[propietat]</code>.
    {% endcapture %}
    {% include success_box.html contingut=clau_interpolacio %}

    <h4>2.5.3. Resultat esperat</h4>
    <p>Sabeu usar <code>{% raw %}{{ }}{% endraw %}</code> per mostrar propietats i getters a la plantilla.</p>
  {% endcapture %}
  {% include section-point.html numero="2.5" titol="Interpolació de text: sintaxi amb claus dobles {{ }} (15-30')" contingut=section_point_2_5 %}

  {% capture section_point_2_6 %}
    <h4>2.6.1. Objectiu del bloc</h4>
    <p>Aprendre property binding per controlar atributs i propietats HTML.</p>

    <h4>2.6.2. Contingut</h4>

    <p><strong>Sintaxi bàsica:</strong></p>

    {% capture code_55 %}<element [propietat]="expressió">{% endcapture %}
    {% include code-block.html lang="html" code=code_55 %}

    <p>Angular avalua l'expressió i assigna el resultat a la propietat especificada.</p>

    <p><strong>Exemples essencials:</strong></p>

    <p><strong>Atributs d'imatge:</strong></p>

    {% capture code_56 %}urlImatge = 'assets/microscopi.jpg';
nomElement = 'Microscopi Electrònic';{% endcapture %}
    {% include code-block.html lang="typescript" code=code_56 %}

    {% capture code_57 %}<img [src]="urlImatge" [alt]="nomElement">{% endcapture %}
    {% include code-block.html lang="html" code=code_57 %}

    <p><strong>Propietats booleanes:</strong></p>

    {% capture code_58 %}processant = true;
disponible = false;{% endcapture %}
    {% include code-block.html lang="typescript" code=code_58 %}

    {% capture code_59 %}<button [disabled]="processant">Afegir al carret</button>
<div [hidden]="!disponible">Element disponible</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_59 %}

    <p><strong>Classes CSS dinàmiques:</strong></p>

    {% capture code_60 %}destacat = true;{% endcapture %}
    {% include code-block.html lang="typescript" code=code_60 %}

    {% capture code_61 %}<article [class.destacat]="destacat">...</article>
<!-- Afegeix classe 'destacat' si la propietat és true -->{% endcapture %}
    {% include code-block.html lang="html" code=code_61 %}

    {% include success_box.html contingut="<strong>Clau:</strong> Property binding assigna valors a atributs i propietats HTML. Essencial per imatges, enllaços, booleanes i classes dinàmiques." %}

    <h4>2.6.3. Resultat esperat</h4>
    <p>Sabeu usar <code>[propietat]="expressió"</code> per controlar atributs HTML dinàmicament.</p>
  {% endcapture %}
  {% include section-point.html numero="2.6" titol="Vinculació de propietats: sintaxi amb claudàtors [ ] (30-45')" contingut=section_point_2_6 %}

  {% capture section_point_2_7 %}
    <h4>2.7.1. Objectiu del bloc</h4>
    <p>Entendre clarament quan usar interpolació i quan usar property binding.</p>

    <h4>2.7.2. Contingut</h4>

    <p><strong>Taula comparativa:</strong></p>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Característica</th>
          <th>Interpolació <code>{% raw %}{{ }}{% endraw %}</code></th>
          <th>Property binding <code>[ ]</code></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Ús principal</strong></td>
          <td>Text dins elements</td>
          <td>Atributs/propietats</td>
        </tr>
        <tr>
          <td><strong>Sintaxi</strong></td>
          <td><code>&lt;h1&gt;{% raw %}{{ titol }}{% endraw %}&lt;/h1&gt;</code></td>
          <td><code>&lt;img [src]="url"&gt;</code></td>
        </tr>
        <tr>
          <td><strong>Resultat</strong></td>
          <td>Text pla</td>
          <td>Valor assignat a propietat</td>
        </tr>
        <tr>
          <td><strong>Booleanes</strong></td>
          <td>Converteix a string</td>
          <td>Manté tipus boolean</td>
        </tr>
        <tr>
          <td><strong>Recomanació</strong></td>
          <td><i class="bi bi-check-circle" aria-hidden="true"></i> Per contingut text</td>
          <td><i class="bi bi-check-circle" aria-hidden="true"></i> Per atributs</td>
        </tr>
      </tbody>
    </table>

    <p><strong>Exemple comparatiu:</strong></p>

    <p><strong>Interpolació per text:</strong></p>

    {% capture code_62 %}<h2>{% raw %}{{ element.nom }}{% endraw %}</h2>
<p>Preu: {% raw %}{{ element.preu }}{% endraw %}€</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_62 %}

    <p><strong>Property binding per atributs:</strong></p>

    {% capture code_63 %}<img [src]="element.imatge" [alt]="element.nom">
<a [href]="element.enllac">Més informació</a>
<button [disabled]="!element.disponible">Comprar</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_63 %}

    <p><strong>Errors comuns:</strong></p>

    <p><i class="bi bi-x-circle" aria-hidden="true"></i> <strong>Interpolació per atributs (NO funciona):</strong></p>

    {% capture code_64 %}<img src="{% raw %}{{ urlImatge }}{% endraw %}">  <!-- NO usar: no reactiu -->{% endcapture %}
    {% include code-block.html lang="html" code=code_64 %}

    <p><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Property binding correcte:</strong></p>

    {% capture code_65 %}<img [src]="urlImatge">  <!-- Correcte: property binding reactiu -->{% endcapture %}
    {% include code-block.html lang="html" code=code_65 %}

    {% include success_box.html contingut="<strong>Clau:</strong> Interpolació per text dins elements, property binding per atributs. No barrejar." %}

    <h4>2.7.3. Resultat esperat</h4>
    <p>Sabeu escollir la sintaxi adequada segons el cas d'ús.</p>
  {% endcapture %}
  {% include section-point.html numero="2.7" titol="Diferències entre interpolació i property binding: quan usar cada una (45-60')" contingut=section_point_2_7 %}

  {% capture section_point_2_8 %}
    <h4>2.8.1. Objectiu del bloc</h4>
    <p>Aplicar property binding a les propietats HTML més comunes.</p>

    <h4>2.8.2. Contingut</h4>

    <p><strong>Taula de propietats habituals:</strong></p>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Propietat</th>
          <th>Tipus</th>
          <th>Exemple</th>
          <th>Ús</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>[src]</code></td>
          <td>string</td>
          <td><code>&lt;img [src]="url"&gt;</code></td>
          <td>Ruta imatges</td>
        </tr>
        <tr>
          <td><code>[href]</code></td>
          <td>string</td>
          <td><code>&lt;a [href]="enllac"&gt;</code></td>
          <td>Enllaços</td>
        </tr>
        <tr>
          <td><code>[alt]</code></td>
          <td>string</td>
          <td><code>&lt;img [alt]="descripcio"&gt;</code></td>
          <td>Text alternatiu</td>
        </tr>
        <tr>
          <td><code>[title]</code></td>
          <td>string</td>
          <td><code>&lt;button [title]="ajuda"&gt;</code></td>
          <td>Tooltip</td>
        </tr>
        <tr>
          <td><code>[disabled]</code></td>
          <td>boolean</td>
          <td><code>&lt;button [disabled]="processant"&gt;</code></td>
          <td>Desactivar inputs</td>
        </tr>
        <tr>
          <td><code>[hidden]</code></td>
          <td>boolean</td>
          <td><code>&lt;div [hidden]="!visible"&gt;</code></td>
          <td>Ocultar elements</td>
        </tr>
        <tr>
          <td><code>[class.nom]</code></td>
          <td>boolean</td>
          <td><code>&lt;div [class.actiu]="seleccionat"&gt;</code></td>
          <td>Classe condicional</td>
        </tr>
        <tr>
          <td><code>[style.propietat]</code></td>
          <td>any</td>
          <td><code>&lt;p [style.color]="color"&gt;</code></td>
          <td>Estil inline</td>
        </tr>
      </tbody>
    </table>

    <p><strong>Exemple integrat:</strong></p>

    {% capture code_66 %}element = {
  nom: 'Microscopi',
  imatge: 'assets/microscopi.jpg',
  enllac: '/element/123',
  disponible: true,
  destacat: false,
  preu: 45000
};

processant = false;{% endcapture %}
    {% include code-block.html lang="typescript" code=code_66 %}

    {% capture code_67 %}<article [class.destacat]="element.destacat">
  <img [src]="element.imatge" [alt]="element.nom">
  <h3>{% raw %}{{ element.nom }}{% endraw %}</h3>
  <p>{% raw %}{{ element.preu }}{% endraw %}€</p>
  <a [href]="element.enllac" [title]="'Veure ' + element.nom">
    Més informació
  </a>
  <button
    [disabled]="!element.disponible || processant"
    [hidden]="!element.disponible">
    Afegir al carret
  </button>
</article>{% endcapture %}
    {% include code-block.html lang="html" code=code_67 %}

    {% include success_box.html contingut="<strong>Clau:</strong> Les propietats més comunes són <code>src</code>, <code>href</code>, <code>disabled</code>, <code>hidden</code> i <code>class</code>. Combineu-les per crear interfícies dinàmiques completes." %}

    <h4>2.8.3. Resultat esperat</h4>
    <p>Sabeu aplicar property binding a les propietats HTML essencials.</p>
  {% endcapture %}
  {% include section-point.html numero="2.8" titol="Propietats HTML habituals: src, href, disabled, hidden, class (60-80')" contingut=section_point_2_8 %}

  {% capture section_point_2_9 %}
    <h4>2.9.1. Objectiu del bloc</h4>
    <p>Crear una targeta completa amb interpolació i property binding.</p>

    <h4>2.9.2. Contingut</h4>

    <p><strong>targeta-element.component.ts:</strong></p>

    {% capture code_68 %}import { Component } from '@angular/core';

@Component({
  selector: 'app-targeta-element',
  standalone: true,
  templateUrl: './targeta-element.component.html',
  styleUrl: './targeta-element.component.scss'
})
export class TargetaElementComponent {
  element = {
    nom: 'Microscopi Electrònic',
    descripcio: 'Microscopi d\'alta resolució per a investigació científica.',
    imatge: 'https://via.placeholder.com/300x200',
    preu: 45000,
    disponible: true,
    enllac: '/element/microscopi-electronic'
  };

  processant = false;

  get preuAmbIVA(): number {
    return this.element.preu * 1.21;
  }
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_68 %}

    <p><strong>targeta-element.component.html:</strong></p>

    {% capture code_69 %}<article class="targeta" [class.no-disponible]="!element.disponible">
  <img [src]="element.imatge" [alt]="element.nom" class="targeta__imatge">

  <div class="targeta__contingut">
    <h3 class="targeta__nom">{% raw %}{{ element.nom }}{% endraw %}</h3>
    <p class="targeta__descripcio">{% raw %}{{ element.descripcio }}{% endraw %}</p>

    <div class="targeta__peu">
      <span class="targeta__preu">
        {{ preuAmbIVA | number:'1.2-2' }}€ (IVA inclòs)
      </span>

      <a [href]="element.enllac" [title]="'Veure ' + element.nom">
        Més informació
      </a>

      <button
        [disabled]="!element.disponible || processant"
        [hidden]="!element.disponible">
        {% raw %}{{ processant ? 'Processant{% endraw %}...' : 'Afegir al carret' }}
      </button>
    </div>
  </div>
</article>{% endcapture %}
    {% include code-block.html lang="html" code=code_69 %}

    <p><strong>Verificació:</strong> Obriu el navegador i comproveu que la targeta mostra totes les dades dinàmiques correctament.</p>

    {% include success_box.html contingut="<strong>Clau:</strong> Combineu interpolació per text i property binding per atributs per crear components complets." %}

    <h4>2.9.3. Resultat esperat</h4>
    <p>Teniu una targeta funcional amb dades completament dinàmiques.</p>
  {% endcapture %}
  {% include section-point.html numero="2.9" titol="Exemple pràctic: targeta amb títol, descripció i imatge dinàmics (80-100')" contingut=section_point_2_9 %}

  {% capture section_point_2_10 %}
    <h4>2.10.1. Objectiu del bloc</h4>
    <p>Utilitzar expressions més complexes dins de vinculacions.</p>

    <h4>2.10.2. Contingut</h4>

    <p><strong>Operador ternari (condició):</strong></p>

    {% capture code_70 %}disponible = true;
stock = 5;{% endcapture %}
    {% include code-block.html lang="typescript" code=code_70 %}

    {% capture code_71 %}<p>{% raw %}{{ disponible ? 'Disponible{% endraw %}' : 'No disponible' }}</p>
<p>{% raw %}{{ stock > 0 ?{% endraw %} stock + ' unitats' : 'Exhaurit' }}</p>
<button [disabled]="stock === 0">
  {% raw %}{{ stock > 0 ? 'Comprar{% endraw %}' : 'Exhaurit' }}
</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_71 %}

    <p><strong>Concatenació de text:</strong></p>

    {% capture code_72 %}nom = 'Microscopi';
categoria = 'Equipament laboratori';{% endcapture %}
    {% include code-block.html lang="typescript" code=code_72 %}

    {% capture code_73 %}<p>{% raw %}{{ 'Producte:{% endraw %} ' + nom + ' (' + categoria + ')' }}</p>
<img [alt]="'Imatge de ' + nom">{% endcapture %}
    {% include code-block.html lang="html" code=code_73 %}

    <p><strong>Operacions aritmètiques:</strong></p>

    {% capture code_74 %}preu = 100;
descompte = 0.15;{% endcapture %}
    {% include code-block.html lang="typescript" code=code_74 %}

    {% capture code_75 %}<p>Preu original: {% raw %}{{ preu }}{% endraw %}€</p>
<p>Descompte: {% raw %}{{ preu * descompte }}{% endraw %}€</p>
<p>Preu final: {% raw %}{{ preu - (preu * descompte) }}{% endraw %}€</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_75 %}

    <p><strong>Bones pràctiques:</strong></p>
    <ul>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Expressions simples a la plantilla</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Lògica complexa en getters o mètodes</li>
      <li><i class="bi bi-x-circle" aria-hidden="true"></i> Evitar càlculs llargs a la plantilla</li>
    </ul>

    {% include success_box.html contingut="<strong>Clau:</strong> Operador ternari per condicions simples, concatenació per text dinàmic. Lògica complexa a la classe." %}

    <h4>2.10.3. Resultat esperat</h4>
    <p>Sabeu usar expressions bàsiques dins de vinculacions sense sobrecarregar la plantilla.</p>
  {% endcapture %}
  {% include section-point.html numero="2.10" titol="Expressions a les vinculacions: operadors ternaris, concatenació (100-115')" contingut=section_point_2_10 %}

  {% capture section_point_2_11 %}
    <h4>2.11.1. Objectiu del bloc</h4>
    <p>Aplicar bones pràctiques per mantenir plantilles netes i mantenibles.</p>

    <h4>2.11.2. Contingut</h4>

    <p><strong>Principis clau:</strong></p>

    <p><strong>1. Lògica a la classe, no a la plantilla</strong></p>

    <p><i class="bi bi-x-circle" aria-hidden="true"></i> Malament:</p>

    {% capture code_76 %}<p>{% raw %}{{ (preu * 1.21 * quantitat){% endraw %} - (preu * 1.21 * quantitat * 0.1) }}€</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_76 %}

    <p><i class="bi bi-check-circle" aria-hidden="true"></i> Bé:</p>

    {% capture code_77 %}get preuTotal(): number {
  const subtotal = this.preu * 1.21 * this.quantitat;
  return subtotal - (subtotal * 0.1);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_77 %}

    {% capture code_78 %}<p>{% raw %}{{ preuTotal }}{% endraw %}€</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_78 %}

    <p><strong>2. Usar getters per valors calculats</strong><br>
    Millor rendiment i llegibilitat.</p>

    <p><strong>3. Expressions simples a la plantilla</strong><br>
    Màxim 1-2 operacions. Si és més complex, mou-ho a un getter.</p>

    <p><strong>4. Evitar crides a mètodes en vinculacions</strong><br>
    Millor usar getters que es calculen una vegada per cicle de detecció.</p>

    <p><strong>5. Propietats descriptives</strong><br>
    <code>element.disponible</code> millor que <code>element.status === 'available'</code></p>

    {% include success_box.html contingut="<strong>Clau:</strong> Plantilles netes amb expressions simples. Lògica complexa a la classe amb getters." %}

    <h4>2.11.3. Resultat esperat</h4>
    <p>Sabeu mantenir plantilles llegibles i mantenibles seguint bones pràctiques.</p>
  {% endcapture %}
  {% include section-point.html numero="2.11" titol="Bones pràctiques: lògica mínima a la plantilla (115-120')" contingut=section_point_2_11 %}

  {% capture section_point_2_12 %}
    <p>Component amb totes les tècniques aplicades:</p>

    <p><strong>targeta-dinamica.component.ts:</strong></p>

    {% capture code_79 %}import { Component } from '@angular/core';

@Component({
  selector: 'app-targeta-dinamica',
  standalone: true,
  templateUrl: './targeta-dinamica.component.html',
  styleUrl: './targeta-dinamica.component.scss'
})
export class TargetaDinamicaComponent {
  element = {
    id: 1,
    nom: 'Microscopi Electrònic Avançat',
    descripcio: 'Equipament d\'alta precisió per a investigació científica.',
    categoria: 'Equipament de laboratori',
    preu: 45000,
    stock: 3,
    imatge: 'https://via.placeholder.com/400x300',
    destacat: true,
    nou: false
  };

  processant = false;

  get disponible(): boolean {
    return this.element.stock > 0;
  }

  get preuAmbIVA(): number {
    return this.element.preu * 1.21;
  }

  get missatgeStock(): string {
    if (this.element.stock === 0) return 'Exhaurit';
    if (this.element.stock < 5) return `Només ${this.element.stock} unitats`;
    return 'Disponible';
  }

  get etiquetes(): string[] {
    const etiquetes = [];
    if (this.element.destacat) etiquetes.push('Destacat');
    if (this.element.nou) etiquetes.push('Nou');
    return etiquetes;
  }

  afegirAlCarret(): void {
    this.processant = true;
    console.log(`Afegint ${this.element.nom} al carret...`);
    setTimeout(() => {
      this.processant = false;
      console.log('Afegit correctament!');
    }, 2000);
  }
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_79 %}

    <p><strong>targeta-dinamica.component.html:</strong></p>

    {% capture code_80 %}<article class="targeta"
         [class.destacat]="element.destacat"
         [class.exhaurit]="!disponible">

  <!-- Etiquetes -->
  <div class="targeta__etiquetes" *ngIf="etiquetes.length > 0">
    <span *ngFor="let etiqueta of etiquetes" class="etiqueta">
      {{ etiqueta }}
    </span>
  </div>

  <!-- Imatge -->
  <img [src]="element.imatge"
       [alt]="element.nom"
       class="targeta__imatge">

  <!-- Contingut -->
  <div class="targeta__contingut">
    <span class="targeta__categoria">{% raw %}{{ element.categoria }}{% endraw %}</span>

    <h3 class="targeta__nom">{% raw %}{{ element.nom }}{% endraw %}</h3>

    <p class="targeta__descripcio">{% raw %}{{ element.descripcio }}{% endraw %}</p>

    <!-- Peu -->
    <div class="targeta__peu">
      <div class="targeta__preu-container">
        <span class="targeta__preu">{% raw %}{{ preuAmbIVA{% endraw %} | number:'1.2-2' }}€</span>
        <span class="targeta__stock"
              [class.pocs]="element.stock < 5 && element.stock > 0">
          {{ missatgeStock }}
        </span>
      </div>

      <button class="targeta__boto"
              [disabled]="!disponible || processant"
              (click)="afegirAlCarret()">
        {% raw %}{{ processant ? 'Processant{% endraw %}...' : 'Afegir al carret' }}
      </button>
    </div>
  </div>
</article>{% endcapture %}
    {% include code-block.html lang="html" code=code_80 %}

    <p>Aquest exemple mostra:</p>
    <ul>
      <li>Interpolació per text: <code>{% raw %}{{ element.nom }}{% endraw %}</code></li>
      <li>Property binding per atributs: <code>[src]</code>, <code>[alt]</code>, <code>[disabled]</code></li>
      <li>Classes condicionals: <code>[class.destacat]</code>, <code>[class.exhaurit]</code></li>
      <li>Operador ternari: <code>{% raw %}{{ processant ? '...' : '...' }}{% endraw %}</code></li>
      <li>Getters per lògica: <code>disponible</code>, <code>preuAmbIVA</code>, <code>missatgeStock</code></li>
      <li>Event binding: <code>(click)="afegirAlCarret()"</code></li>
    </ul>
  {% endcapture %}
  {% include section-point.html numero="2.12" titol="Mini exemple pràctic · Targeta dinàmica completa" contingut=section_point_2_12 %}

  {% capture section_point_2_13 %}
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Símptoma</th>
          <th>Causa</th>
          <th>Solució</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>{% raw %}{{ }}{% endraw %}</code> mostra literal, no valor</td>
          <td>Sintaxi incorrecta o propietat no existeix</td>
          <td>Verifiqueu l'ortografia de la propietat a la classe</td>
        </tr>
        <tr>
          <td><code>[src]</code> no carrega imatge</td>
          <td>Ruta incorrecta o variable undefined</td>
          <td>Comproveu que la ruta és correcta i la propietat té valor</td>
        </tr>
        <tr>
          <td>Propietat boolean no funciona</td>
          <td>Usar interpolació en lloc de property binding</td>
          <td>Canvieu <code>disabled="{% raw %}{{ var }}{% endraw %}"</code> per <code>[disabled]="var"</code></td>
        </tr>
        <tr>
          <td>Expressió dona error</td>
          <td>Sintaxi TypeScript incorrecta</td>
          <td>Reviseu l'expressió, proveu-la a la classe primer</td>
        </tr>
      </tbody>
    </table>
  {% endcapture %}
  {% include section-point.html numero="2.13" titol="Resolució de problemes (Win/macOS/Linux)" contingut=section_point_2_13 %}

  {% capture section_point_2_14 %}
  {% capture prompt_1 %}<strong>Rol:</strong> desenvolupador Angular. <strong>Context:</strong> component targeta d'element amb dades dinàmiques. <strong>Tasca:</strong> genera codi TypeScript i HTML per a un component que mostri: nom (interpolació), descripció (interpolació), imatge amb src dinàmic (property binding), botó desactivat si no disponible (property binding boolean), preu amb IVA calculat (getter). <strong>Format:</strong> dos blocs de codi etiquetats.{% endcapture %}
  {% include prompt-ai.html contingut=prompt_1 %}

  {% capture prompt_2 %}<strong>Rol:</strong> mentor Angular. <strong>Context:</strong> necessito entendre quan usar interpolació vs property binding. <strong>Tasca:</strong> crea una taula comparativa amb columnes "Cas d'ús", "Interpolació", "Property binding", "Recomanació" que cobreixi 5 casos: mostrar text, assignar src imatge, desactivar botó, afegir classe CSS, mostrar número formatat. <strong>Format:</strong> taula Markdown amb 5 files i exemples de codi.{% endcapture %}
  {% include prompt-ai.html contingut=prompt_2 %}

  {% capture prompt_3 %}<strong>Rol:</strong> consultor bones pràctiques Angular. <strong>Context:</strong> la meva plantilla té expressions complexes que dificulten manteniment. <strong>Tasca:</strong> proposa refactorització de 3 casos: càlcul preu amb IVA i descompte a la plantilla → getter, condició múltiple per mostrar missatge → propietat calculada, concatenació llarga de strings → mètode formatador. Per cada cas: mostra codi original (malament), codi refactoritzat (bé), benefici obtingut. <strong>Format:</strong> 3 seccions amb subseccions Original/Refactoritzat/Benefici.{% endcapture %}
  {% include prompt-ai.html contingut=prompt_3 %}
  {% endcapture %}
  {% include section-point.html numero="2.14" titol="Prompts d'IA" contingut=section_point_2_14 %}

  {% capture section_point_2_15 %}
    <h4>Conceptes teòrics</h4>
    {% include checklist.html elements="Entenc la diferència entre dades estàtiques i dinàmiques|Sé quan usar interpolació vs property binding|Comprenc com funciona la detecció de canvis|Sé què són els getters i per què són útils" %}

    <h4>Habilitats pràctiques</h4>
    {% capture checklist_practiques_2 %}Puc usar {% raw %}{{ }}{% endraw %} per mostrar text dinàmic|Puc usar [propietat] per assignar atributs|Sé vincular src, href, disabled, hidden, class|Puc usar operador ternari a la plantilla|Sé crear getters per valors calculats|Aplico bones pràctiques (lògica a la classe, no a la plantilla){% endcapture %}
    {% include checklist.html elements=checklist_practiques_2 %}
  {% endcapture %}
  {% include section-point.html numero="2.15" titol="Autoavaluació" contingut=section_point_2_15 %}

  {% capture section_point_2_16 %}
    <h4>Què heu après</h4>
    <p>En aquesta lectura heu après la <strong>vinculació de dades a Angular</strong>:</p>
    <ol>
      <li><strong>Interpolació <code>{% raw %}{{ }}{% endraw %}</code>:</strong> Mostra text dinàmic dins elements HTML</li>
      <li><strong>Property binding <code>[ ]</code>:</strong> Assigna valors a atributs i propietats</li>
      <li><strong>Diferències:</strong> Interpolació per text, property binding per atributs</li>
      <li><strong>Expressions:</strong> Operador ternari, concatenació, operacions aritmètiques</li>
      <li><strong>Bones pràctiques:</strong> Lògica a la classe, getters per valors calculats</li>
    </ol>

    <h4>Connexions amb altres lectures</h4>
    <ul>
      <li><strong>Lectura 2.1.3:</strong> Aprendre <code>@Input</code> per passar dades als components</li>
      <li><strong>Lectura 2.2.1:</strong> Usar <code>*ngFor</code> per vincular llistes d'elements</li>
      <li><strong>Lectura 2.2.2:</strong> Aplicar <code>*ngIf</code> per mostrar contingut condicional</li>
      <li><strong>Lectura 2.3.1:</strong> Vinculació bidireccional amb <code>[(ngModel)]</code></li>
    </ul>

    <h4>Aplicació al projecte</h4>
    <p>Al cas d'ús de la Unitat 2 aplicareu interpolació i property binding per mostrar llistes dinàmiques d'elements del catàleg amb imatges, preus i disponibilitat.</p>
  {% endcapture %}
  {% include section-point.html numero="2.16" titol="Síntesi" contingut=section_point_2_16 %}

  {% capture section_point_2_17 %}
    {% capture def_interpolacio_2 %}
<strong>Interpolació:</strong><br>
<code>&lt;h1&gt;{% raw %}{{ titol }}{% endraw %}&lt;/h1&gt;</code><br>
<code>&lt;p&gt;{% raw %}{{ descripcio }}{% endraw %}&lt;/p&gt;</code>
    {% endcapture %}
    {% include definicio.html terme="Interpolació" definicio=def_interpolacio_2 %}

    {% capture def_property_binding %}
<strong>Property binding:</strong><br>
<code>&lt;img [src]="urlImatge" [alt]="titol"&gt;</code><br>
<code>&lt;button [disabled]="processant"&gt;Enviar&lt;/button&gt;</code>
    {% endcapture %}
    {% include definicio.html terme="Property binding" definicio=def_property_binding %}

    {% capture def_operador_ternari %}
<strong>Operador ternari:</strong><br>
<code>&lt;p&gt;{% raw %}{{ disponible ? 'Disponible' : 'Exhaurit' }}{% endraw %}&lt;/p&gt;</code>
    {% endcapture %}
    {% include definicio.html terme="Operador ternari" definicio=def_operador_ternari %}

    {% capture def_getter_2 %}
<strong>Getter:</strong><br>
<code>get preuAmbIVA(): number {</code><br>
<code>&nbsp;&nbsp;return this.preu * 1.21;</code><br>
<code>}</code><br>
<br>
<strong>Ús a la plantilla:</strong><br>
<code>&lt;p&gt;{% raw %}{{ preuAmbIVA }}{% endraw %}€&lt;/p&gt;</code>
    {% endcapture %}
    {% include definicio.html terme="Getter" definicio=def_getter_2 %}

    {% capture def_regla_or %}
<strong>Regla d'or:</strong> Interpolació per text, property binding per atributs. Lògica complexa a la classe amb getters.
    {% endcapture %}
    {% include definicio.html terme="Regla d'or" definicio=def_regla_or %}
  {% endcapture %}
  {% include section-point.html numero="2.17" titol="Repàs de conceptes" contingut=section_point_2_17 %}

</div>

<!-- SECCIÓ 3: Vinculació d'esdeveniments i comunicació -->
<div class="section" id="Unitat2_Bloc1_Seccio3">
  <h2 id="Unitat2_Bloc1_Seccio3">3. Vinculació d'esdeveniments i comunicació</h2>

  <!-- MULTIMÈDIA -->
  {% include multimedia-youtube.html unitat=2 bloc=1 seccio=3 %}


  {% capture objectius_seccio3 %}
Comprendre què són els esdeveniments d'usuari i per què són essencials per a la interactivitat de les aplicacions web modernes|Gestionar esdeveniments habituals (click, input, submit, change, keyup) amb la sintaxi d'Angular (<code>(event)</code>), connectant-los amb mètodes del component|Utilitzar l'objecte <code>$event</code> per accedir a informació específica de l'esdeveniment i passar paràmetres als mètodes del component
  {% endcapture %}
  {% include objectius.html llista=objectius_seccio3 %}

  {% include info_box.html contingut="<strong>RA2 · Criteri 4</strong> — Gestiona esdeveniments habituals i la comunicació entre parts de la interfície." %}

  {% capture section_point_3_1 %}
    <p>Abans de començar aquesta lectura, assegureu-vos que heu completat:</p>
    <ul>
      <li><strong>Lectura 2.1.1</strong> — Creació del primer component: component <code>TargetaElementComponent</code> creat i operatiu.</li>
      <li><strong>Lectura 2.1.2</strong> — Interpolació i vinculació de propietats: compreneu com mostrar dades dinàmiques amb <code>{% raw %}{{ }}{% endraw %}</code> i <code>[property]</code>.</li>
    </ul>

    <p>A més, necessiteu:</p>
    <ul>
      <li><strong>Projecte funcional:</strong> <code>~/workspace/cataleg-elements</code> (macOS/Linux) o <code>%USERPROFILE%\workspace\cataleg-elements</code> (Windows) amb el component <code>TargetaElementComponent</code> funcionant.</li>
      <li><strong>Servidor de desenvolupament:</strong> capacitat d'executar <code>ng serve</code> i accedir a l'aplicació al navegador.</li>
      <li><strong>VS Code operatiu:</strong> amb extensions Angular Language Service i ESLint instal·lades.</li>
      <li><strong>Coneixements bàsics de TypeScript:</strong> funcions, paràmetres i tipus bàsics.</li>
    </ul>

    <p><strong>Verificació ràpida:</strong></p>

    {% capture code_81 %}cd ~/workspace/cataleg-elements
ng serve
# Ha de compilar sense errors i obrir localhost:4200{% endcapture %}
    {% include code-block.html lang="bash" code=code_81 %}

    <p><strong>Punt d'autocomprovació:</strong> El component <code>TargetaElementComponent</code> es renderitza correctament i mostra dades amb interpolació.</p>
  {% endcapture %}
  {% include section-point.html numero="3.1" titol="Prerequisits" contingut=section_point_3_1 %}

  {% capture section_point_3_2 %}
    <h4>3.2.1. Què és la vinculació d'esdeveniments</h4>

    <p>La <strong>vinculació d'esdeveniments</strong> (event binding) és el mecanisme que permet capturar accions de l'usuari (clics, escriptura, enviaments) i connectar-les amb mètodes del component que responen a aquestes accions. Angular utilitza la sintaxi <code>(event)="method()"</code> per vincular esdeveniments del DOM amb la lògica TypeScript de manera declarativa.</p>

    <h4>3.2.2. Problema sense vinculació d'esdeveniments</h4>

    <p><strong>Situació abans d'Angular:</strong></p>

    <p>Abans d'utilitzar frameworks moderns, gestionar esdeveniments requeria manipular el DOM manualment amb <code>addEventListener</code>. Cada interacció necessitava selectors, bucles i actualitzacions manuals:</p>

    {% capture code_82 %}// JavaScript pur: gestió manual d'esdeveniments al catàleg
const botons = document.querySelectorAll('.btn-afegir-element');

botons.forEach(boto => {
  boto.addEventListener('click', function(event) {
    // Obtenir informació del botó clicat
    const targeta = event.target.closest('.targeta-element');
    const id = targeta.dataset.elementId;
    const nom = targeta.dataset.elementNom;

    console.log('Afegit element:', nom);

    // Actualitzar comptador (manualment!)
    const comptador = document.getElementById('comptador-elements');
    const valorActual = parseInt(comptador.textContent);
    comptador.textContent = (valorActual + 1).toString();

    // Mostrar missatge de confirmació (manualment!)
    const missatge = document.getElementById('missatge-confirmacio');
    missatge.textContent = `✓ ${nom} afegit al catàleg`;
    missatge.classList.add('visible');

    setTimeout(() => {
      missatge.classList.remove('visible');
    }, 2000);
  });
});

// Gestionar cerca en temps real
const inputCerca = document.getElementById('input-cerca');
inputCerca.addEventListener('input', function(event) {
  const terme = event.target.value.toLowerCase();
  const targetes = document.querySelectorAll('.targeta-element');

  targetes.forEach(targeta => {
    const nom = targeta.dataset.elementNom.toLowerCase();
    if (nom.includes(terme)) {
      targeta.style.display = 'block';
    } else {
      targeta.style.display = 'none';
    }
  });
});

// Total: 35-40 línies només per 2 funcionalitats bàsiques{% endcapture %}
    {% include code-block.html lang="javascript" code=code_82 %}

    <p><strong>Problemes que genera:</strong></p>

    <p><strong>1. Codi verbós i repetitiu</strong><br>
    Per cada element interactiu, heu d'escriure selectors DOM (<code>getElementById</code>, <code>querySelectorAll</code>), bucles (<code>forEach</code>) i <code>addEventListener</code>. Un formulari simple amb 5 camps pot necessitar 50-100 línies de JavaScript només per gestionar esdeveniments.</p>

    <p><strong>2. Actualitzacions manuals del DOM propenses a errors</strong><br>
    Cada vegada que canvia l'estat, heu d'actualitzar manualment el DOM amb <code>textContent</code>, <code>classList.add</code>, <code>style.display</code>, etc. Això genera codi difícil de mantenir, errors freqüents i rendiment deficient.</p>

    <p><strong>3. Dificultat per testejar</strong><br>
    El codi està acoblat al DOM, impossible de testejar sense un navegador complet. Les funcions no són pures i depenen d'elements HTML específics amb IDs concrets.</p>

    <p><strong>4. Gestió d'estat inconsistent i fragmentada</strong><br>
    L'estat de l'aplicació es distribueix entre variables globals JavaScript, atributs <code>data-*</code> al HTML i el propi contingut del DOM, provocant desincronitzacions i bugs difícils de trobar.</p>

    <p><strong>5. Mantenibilitat baixa i fragilitat</strong><br>
    Afegir una nova funcionalitat interactiva requereix modificar múltiples parts del codi. Canviar l'estructura HTML pot trencar tots els selectors i event listeners.</p>

    <h4>3.2.3. Solució amb vinculació d'esdeveniments Angular</h4>

    <p>Angular simplifica radicalment la gestió d'esdeveniments amb una sintaxi declarativa directament a la plantilla:</p>

    <p><strong>Plantilla HTML (clara i llegible):</strong></p>

    {% capture code_83 %}<!-- Cerca en temps real -->
<input type="text"
       placeholder="Cerca elements..."
       (input)="onCercar($event)"
       class="input-cerca">

<!-- Comptador (actualització automàtica!) -->
<p>Elements al catàleg: {% raw %}{{ comptadorElements }}{% endraw %}</p>

<!-- Missatge de confirmació (actualització automàtica!) -->
<p *ngIf="missatgeVisible" class="missatge-confirmacio">
  ✓ {% raw %}{{ ultimElementAfegit }}{% endraw %} afegit al catàleg
</p>

<!-- Targetes amb botons -->
<div *ngFor="let element of elementsFiltrats" class="targeta-element">
  <h3>{% raw %}{{ element.nom }}{% endraw %}</h3>
  <button (click)="onAfegirElement(element)">
    Afegir al catàleg
  </button>
</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_83 %}

    <p><strong>Component TypeScript (lògica separada i testable):</strong></p>

    {% capture code_84 %}export class CatalegComponent {
  // Estat centralitzat
  comptadorElements = 0;
  missatgeVisible = false;
  ultimElementAfegit = '';
  elements: Element[] = [...];
  elementsFiltrats: Element[] = this.elements;

  // Mètode gestor: cerca
  onCercar(event: Event): void {
    const terme = (event.target as HTMLInputElement).value.toLowerCase();
    this.elementsFiltrats = this.elements.filter(el =>
      el.nom.toLowerCase().includes(terme)
    );
  }

  // Mètode gestor: afegir element
  onAfegirElement(element: Element): void {
    this.comptadorElements++;
    this.ultimElementAfegit = element.nom;
    this.missatgeVisible = true;

    setTimeout(() => {
      this.missatgeVisible = false;
    }, 2000);
  }
}

// Total: 15 línies vs 35-40 del JavaScript pur{% endcapture %}
    {% include code-block.html lang="typescript" code=code_84 %}

    <p><strong>Avantatges principals:</strong></p>

    <ul>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Sintaxi declarativa:</strong> Els esdeveniments es vinculen directament a la plantilla amb <code>(event)</code>, intuïtiu i fàcil de mantenir.</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Actualitzacions automàtiques:</strong> El Change Detection actualitza el DOM quan canvien propietats. 0 manipulacions manuals.</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Separació clara:</strong> Lògica al component TypeScript, presentació a la plantilla HTML.</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>100% testable:</strong> Els mètodes són funcions TypeScript pures testables amb Jasmine/Jest.</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Menys codi:</strong> Reducció del 60% de línies (35-40 → 15 línies).</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> <strong>Estat centralitzat:</strong> Totes les propietats al component, una única font de veritat.</li>
    </ul>

    <h4>3.2.4. Taula comparativa</h4>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Aspecte</th>
          <th>JavaScript pur</th>
          <th>Angular event binding</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Sintaxi</strong></td>
          <td><code>addEventListener('click', ...)</code></td>
          <td><code>(click)="method()"</code></td>
        </tr>
        <tr>
          <td><strong>Línies de codi</strong></td>
          <td>20-50 per funcionalitat</td>
          <td>8-20 (-60%)</td>
        </tr>
        <tr>
          <td><strong>Selectors DOM</strong></td>
          <td>Necessaris</td>
          <td>Innecessaris</td>
        </tr>
        <tr>
          <td><strong>Actualització interfície</strong></td>
          <td>Manual</td>
          <td>Automàtica</td>
        </tr>
        <tr>
          <td><strong>Acoblament al DOM</strong></td>
          <td>Alt</td>
          <td>Baix</td>
        </tr>
        <tr>
          <td><strong>Testabilitat</strong></td>
          <td>Molt difícil</td>
          <td>Fàcil</td>
        </tr>
        <tr>
          <td><strong>Gestió d'errors</strong></td>
          <td>Runtime</td>
          <td>Compilació</td>
        </tr>
        <tr>
          <td><strong>Mantenibilitat</strong></td>
          <td>Baixa</td>
          <td>Alta</td>
        </tr>
      </tbody>
    </table>
  {% endcapture %}
  {% include section-point.html numero="3.2" titol="Marc conceptual" contingut=section_point_3_2 %}

  {% capture section_point_3_3 %}
    <h4>3.3.1. Flux complet d'esdeveniments</h4>

    {% capture code_85 %}[Usuari] ──interacció──> [Element DOM] ──detecta──> [Esdeveniment]
                                                            ↓
[Component] ←──executa─── [Mètode TypeScript] ←──vincula── [(event)]
      ↓
[Actualitza propietats] ──> [Change Detection] ──> [Plantilla actualitzada]{% endcapture %}
    {% include code-block.html lang="text" code=code_85 %}

    <p><strong>Passos del flux:</strong></p>
    <ol>
      <li>L'usuari interactua amb un element (clic, escriptura, etc.).</li>
      <li>El navegador genera un esdeveniment del DOM.</li>
      <li>Angular detecta l'esdeveniment gràcies a <code>(event)</code>.</li>
      <li>Angular executa el mètode especificat al component.</li>
      <li>El mètode actualitza propietats del component.</li>
      <li>Change Detection actualitza automàticament la plantilla.</li>
    </ol>

    <h4>3.3.2. Sintaxi bàsica</h4>

    {% capture code_86 %}Plantilla:    <button (click)="onClic()">Clic</button>
                       ↑        ↑
                    Esdeveniment  Mètode

Component:    onClic(): void {
                // Lògica aquí
              }{% endcapture %}
    {% include code-block.html lang="text" code=code_86 %}

    {% capture success_flux %}
<strong>Regla mnemotècnica:</strong> Els parèntesis <code>()</code> indiquen flux cap amunt (plantilla → component), a diferència dels claudàtors <code>[]</code> que indiquen flux cap avall (component → plantilla).
    {% endcapture %}
    {% include success_box.html contingut=success_flux %}
  {% endcapture %}
  {% include section-point.html numero="3.3" titol="Model mental" contingut=section_point_3_3 %}

  {% capture section_point_3_4 %}
    <p>Un <strong>esdeveniment d'usuari</strong> és una acció que l'usuari realitza sobre la interfície i que el navegador detecta i registra. Cada vegada que feu clic, escriviu o moveu el ratolí, el navegador genera un <strong>objecte d'esdeveniment</strong> amb informació detallada.</p>

    <h4>Exemples d'esdeveniments</h4>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Esdeveniment</th>
          <th>Quan es produeix</th>
          <th>Exemple d'ús</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>click</code></td>
          <td>Clic sobre un element</td>
          <td>Botó d'afegir</td>
        </tr>
        <tr>
          <td><code>input</code></td>
          <td>Escriptura (cada tecla)</td>
          <td>Cerca temps real</td>
        </tr>
        <tr>
          <td><code>change</code></td>
          <td>Canvi select/checkbox</td>
          <td>Filtrar categoria</td>
        </tr>
        <tr>
          <td><code>submit</code></td>
          <td>Enviament formulari</td>
          <td>Desar dades</td>
        </tr>
        <tr>
          <td><code>keyup</code></td>
          <td>Alliberar tecla</td>
          <td>Detectar Enter</td>
        </tr>
        <tr>
          <td><code>focus</code>/<code>blur</code></td>
          <td>Guanyar/perdre focus</td>
          <td>Validacions</td>
        </tr>
      </tbody>
    </table>

    <h4>Per què són importants</h4>

    <p>Sense esdeveniments, les aplicacions serien estàtiques i inútils. Amb esdeveniments podem:</p>

    <ul>
      <li>Capturar entrada de l'usuari</li>
      <li>Respondre a accions immediatament</li>
      <li>Validar dades en temps real</li>
      <li>Proporcionar feedback visual</li>
      <li>Crear experiències interactives</li>
    </ul>

    {% capture success_esdeveniments %}
<strong>Clau:</strong> Els esdeveniments són l'enllaç entre les accions de l'usuari i la lògica de l'aplicació.
    {% endcapture %}
    {% include success_box.html contingut=success_esdeveniments %}
  {% endcapture %}
  {% include section-point.html numero="3.4" titol="Esdeveniments d'usuari: què són i per què són importants" contingut=section_point_3_4 %}

  {% capture section_point_3_5 %}
    <h4>Sintaxi tradicional HTML (problemàtica)</h4>

    {% capture code_87 %}<!-- Forma tradicional NO recomanada -->
<button onclick="alert('Hola!')">Clic</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_87 %}

    <p><strong>Problemes:</strong> Codi barrejat, difícil de mantenir, no testable, insegur (XSS).</p>

    <h4>Sintaxi Angular amb parèntesis</h4>

    {% capture code_88 %}<!-- Forma Angular recomanada -->
<button (click)="onClic()">Clic</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_88 %}

    {% capture code_89 %}onClic(): void {
  console.log('Botó clicat!');
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_89 %}

    <p><strong>Avantatges:</strong> Separació clara, testable, tipatge TypeScript, segur, llegible.</p>

    <h4>Anatomia de la sintaxi</h4>

    {% capture code_90 %}<element (nomEsdeveniment)="mètodeComponent(paràmetres?)">
          ↑               ↑
      Esdeveniment      Expressió TypeScript{% endcapture %}
    {% include code-block.html lang="text" code=code_90 %}

    <h4>Diferències clau</h4>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Aspecte</th>
          <th>HTML tradicional</th>
          <th>Angular</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Sintaxi</strong></td>
          <td><code>onclick="..."</code></td>
          <td><code>(click)="..."</code></td>
        </tr>
        <tr>
          <td><strong>Prefixe</strong></td>
          <td><code>onclick</code> (amb <code>on</code>)</td>
          <td><code>click</code> (sense <code>on</code>)</td>
        </tr>
        <tr>
          <td><strong>Codi</strong></td>
          <td>JavaScript inline</td>
          <td>Mètode del component</td>
        </tr>
        <tr>
          <td><strong>Seguretat</strong></td>
          <td>Vulnerable XSS</td>
          <td>Protegit</td>
        </tr>
        <tr>
          <td><strong>Testabilitat</strong></td>
          <td>Molt difícil</td>
          <td>Fàcil</td>
        </tr>
      </tbody>
    </table>

    {% capture success_sintaxi %}
<strong>Clau:</strong> La sintaxi <code>(event)="method()"</code> separa lògica de presentació, facilitant manteniment i testing.
    {% endcapture %}
    {% include success_box.html contingut=success_sintaxi %}
  {% endcapture %}
  {% include section-point.html numero="3.5" titol="Vinculació d'esdeveniments: sintaxi amb parèntesis ( )" contingut=section_point_3_5 %}

  {% capture section_point_3_6 %}
    <h4>Esdeveniments de ratolí</h4>

    <p><strong>click</strong> — L'esdeveniment més comú. Ús: botons, enllaços, targetes clicables.</p>

    {% capture code_91 %}<button type="button" (click)="onAfegirElement()">
  Afegir
</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_91 %}

    <p><strong>Nota:</strong> Utilitzeu <code>type="button"</code> en botons dins de formularis per evitar enviaments accidentals.</p>

    <p><strong>dblclick</strong> — Doble clic. Ús: edició inline.</p>

    {% capture code_92 %}<div (dblclick)="onEditarTitol()">{% raw %}{{ titol }}{% endraw %}</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_92 %}

    <h4>Esdeveniments de formulari</h4>

    <p><strong>input</strong> — Cada tecla premuda. Ús: cerca en temps real, validació en viu.</p>

    {% capture code_93 %}<input type="text"
       placeholder="Cerca..."
       (input)="onCercar($event)">{% endcapture %}
    {% include code-block.html lang="html" code=code_93 %}

    {% capture code_94 %}onCercar(event: Event): void {
  const terme = (event.target as HTMLInputElement).value;
  // Filtrar elements
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_94 %}

    <p><strong>change</strong> — Canvi de valor en select, checkbox o radio. Ús: filtres, opcions.</p>

    {% capture code_95 %}<select (change)="onFiltraCategoria($event)">
  <option value="">Totes</option>
  <option value="electrònica">Electrònica</option>
</select>{% endcapture %}
    {% include code-block.html lang="html" code=code_95 %}

    <p><strong>submit</strong> — Enviament de formulari. Ús: processar dades.</p>

    {% capture code_96 %}<form (submit)="onCercarElements($event)">
  <input type="text" [(ngModel)]="cerca">
  <button type="submit">Cercar</button>
</form>{% endcapture %}
    {% include code-block.html lang="html" code=code_96 %}

    {% capture code_97 %}onCercarElements(event: Event): void {
  event.preventDefault(); // ❗ Evita recarregar pàgina
  // Processar cerca
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_97 %}

    <h4>Esdeveniments de teclat</h4>

    <p><strong>keyup</strong> — Alliberar tecla. Ús: detectar Enter, Esc.</p>

    {% capture code_98 %}<input (keyup.enter)="onCercar()"
       (keyup.escape)="onNetejar()">{% endcapture %}
    {% include code-block.html lang="html" code=code_98 %}

    <p><strong>Modificadors:</strong> <code>(keyup.enter)</code>, <code>(keyup.escape)</code>, <code>(keyup.space)</code>, <code>(keyup.shift.a)</code></p>

    <h4>Esdeveniments de focus</h4>

    <p><strong>focus/blur</strong> — Guanyar/perdre focus. Ús: mostrar ajuda, validar camps.</p>

    {% capture code_99 %}<input (focus)="onMostrarAjuda()"
       (blur)="onValidarCamp()">{% endcapture %}
    {% include code-block.html lang="html" code=code_99 %}

    <h4>Taula resum</h4>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Esdeveniment</th>
          <th>Element</th>
          <th>Quan</th>
          <th>Cas d'ús</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>click</code></td>
          <td>button</td>
          <td>Clic simple</td>
          <td>Accions principals</td>
        </tr>
        <tr>
          <td><code>input</code></td>
          <td>input</td>
          <td>Cada tecla</td>
          <td>Cerca temps real</td>
        </tr>
        <tr>
          <td><code>change</code></td>
          <td>select</td>
          <td>Canvi valor</td>
          <td>Filtres</td>
        </tr>
        <tr>
          <td><code>submit</code></td>
          <td>form</td>
          <td>Enviament</td>
          <td>Processar dades</td>
        </tr>
        <tr>
          <td><code>keyup</code></td>
          <td>input</td>
          <td>Alliberar tecla</td>
          <td>Detectar Enter</td>
        </tr>
        <tr>
          <td><code>focus/blur</code></td>
          <td>input</td>
          <td>Guanyar/perdre focus</td>
          <td>Validar</td>
        </tr>
      </tbody>
    </table>

    {% capture success_esdeveniments_hab %}
<strong>Clau:</strong> Trieu l'esdeveniment segons quan voleu capturar l'acció: <code>input</code> per cada tecla, <code>change</code> per canvi complet, <code>submit</code> per formularis.
    {% endcapture %}
    {% include success_box.html contingut=success_esdeveniments_hab %}
  {% endcapture %}
  {% include section-point.html numero="3.6" titol="Esdeveniments habituals: click, submit, input, change, keyup" contingut=section_point_3_6 %}

  {% capture section_point_3_7 %}
    <h4>Estructura d'un mètode gestor</h4>

    {% capture code_100 %}onNomAccioDescriptiu(parametres?: tipus): void {
  // 1. Validacions inicials
  // 2. Actualitzar estat
  // 3. Emetre esdeveniments (si cal)
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_100 %}

    <h4>Convenció de noms</h4>

    <p>Prefixe <code>on</code> + acció en infinitiu + context:</p>

    {% capture code_101 %}// Correcte: noms descriptius amb prefix 'on'
onAfegir(): void { }
onEliminar(): void { }
onCercar(): void { }
onGuardarElement(): void { }

// Incorrecte: noms poc descriptius
handle(): void { }              // Massa genèric
clickHandler(): void { }        // Descriu esdeveniment, no acció
gestiona(): void { }            // No descriptiu{% endcapture %}
    {% include code-block.html lang="typescript" code=code_101 %}

    <p><strong>Per què és important:</strong> El codi s'explica sol, fàcil de depurar i mantenir.</p>

    <h4>Exemples pràctics</h4>

    <p><strong>Exemple 1: Sense paràmetres</strong></p>

    {% capture code_102 %}<button (click)="onAfegirElement()">Afegir</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_102 %}

    {% capture code_103 %}elements: Element[] = [];

onAfegirElement(): void {
  const nouElement = { id: Date.now(), nom: 'Element nou' };
  this.elements.push(nouElement);
  console.log('Element afegit');
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_103 %}

    <p><strong>Exemple 2: Amb $event</strong></p>

    {% capture code_104 %}<input (input)="onCanviNom($event)">{% endcapture %}
    {% include code-block.html lang="html" code=code_104 %}

    {% capture code_105 %}nomActual = '';

onCanviNom(event: Event): void {
  const input = event.target as HTMLInputElement;
  this.nomActual = input.value;
  console.log('Nom:', this.nomActual);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_105 %}

    <p><strong>Exemple 3: Amb paràmetres personalitzats</strong></p>

    {% capture code_106 %}<button *ngFor="let element of elements"
        (click)="onEliminar(element.id)">
  Eliminar
</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_106 %}

    {% capture code_107 %}onEliminar(id: number): void {
  this.elements = this.elements.filter(el => el.id !== id);
  console.log('Eliminat:', id);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_107 %}

    <h4>Bones pràctiques</h4>

    <ul>
      <li><strong>Noms descriptius:</strong> <code>onAfegir</code>, <code>onEliminar</code>, <code>onCanviaCategoria</code></li>
      <li><strong>Mètodes curts:</strong> Deleguen lògica complexa a serveis</li>
      <li><strong>Tipatge estricte:</strong> Especifiqueu tipus d'esdeveniment</li>
      <li><strong>Responsabilitat única:</strong> Un mètode, una acció</li>
      <li><strong>Validacions:</strong> Comproveu dades abans de processar</li>
    </ul>

    {% capture success_metodes %}
<strong>Clau:</strong> Els mètodes gestors són funcions TypeScript pures, fàcils de testejar i mantenir.
    {% endcapture %}
    {% include success_box.html contingut=success_metodes %}
  {% endcapture %}
  {% include section-point.html numero="3.7" titol="Mètodes del component: crear funcions per gestionar esdeveniments" contingut=section_point_3_7 %}

  {% capture section_point_3_8 %}
    <p>L'objecte <code>$event</code> és el paràmetre especial que conté l'objecte original de l'esdeveniment del DOM amb tota la informació: element origen, valor, tecles premudes, posició del ratolí, etc.</p>

    <h4>Sintaxi bàsica</h4>

    {% capture code_108 %}<input (input)="onCanvi($event)">{% endcapture %}
    {% include code-block.html lang="html" code=code_108 %}

    {% capture code_109 %}onCanvi(event: Event): void {
  const input = event.target as HTMLInputElement;
  console.log('Valor:', input.value);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_109 %}

    <h4>Propietats útils segons tipus d'esdeveniment</h4>

    <p><strong>MouseEvent (click, dblclick):</strong></p>

    {% capture code_110 %}onClic(event: MouseEvent): void {
  console.log('X:', event.clientX);
  console.log('Y:', event.clientY);
  console.log('Botó:', event.button); // 0=esquerre, 1=roda, 2=dret
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_110 %}

    <p><strong>InputEvent (input):</strong></p>

    {% capture code_111 %}onEscriure(event: Event): void {
  const input = event.target as HTMLInputElement;
  console.log('Valor:', input.value);
  console.log('Tipus:', input.type);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_111 %}

    <p><strong>KeyboardEvent (keyup, keydown):</strong></p>

    {% capture code_112 %}onTecla(event: KeyboardEvent): void {
  console.log('Tecla:', event.key);
  console.log('Codi:', event.code);
  console.log('Shift:', event.shiftKey);
  console.log('Ctrl:', event.ctrlKey);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_112 %}

    <p><strong>FocusEvent (focus, blur):</strong></p>

    {% capture code_113 %}onFocus(event: FocusEvent): void {
  const input = event.target as HTMLInputElement;
  console.log('Element amb focus:', input.name);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_113 %}

    <h4>Casting de tipus</h4>

    <p>TypeScript requereix <strong>casting</strong> per accedir a propietats específiques:</p>

    {% capture code_114 %}// Correcte: amb casting
const input = event.target as HTMLInputElement;
console.log(input.value);

// Error de compilació: sense casting
console.log(event.target.value); // Property 'value' does not exist{% endcapture %}
    {% include code-block.html lang="typescript" code=code_114 %}

    <h4>Mètodes útils</h4>

    <p><strong>preventDefault()</strong> — Cancel·la el comportament per defecte:</p>

    {% capture code_115 %}onSubmit(event: Event): void {
  event.preventDefault(); // No recarrega pàgina
  // Processar formulari
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_115 %}

    <p><strong>stopPropagation()</strong> — Atura la propagació (event bubbling):</p>

    {% capture code_116 %}onClicTargeta(event: MouseEvent): void {
  event.stopPropagation(); // No es propaga al pare
  // Lògica específica de la targeta
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_116 %}

    <h4>Exemple complet amb validacions</h4>

    {% capture code_117 %}<input type="email"
       (input)="onValidarEmail($event)"
       (blur)="onComprovarEmail($event)">
<p *ngIf="emailInvalid" class="error">Email invàlid</p>{% endcapture %}
    {% include code-block.html lang="html" code=code_117 %}

    {% capture code_118 %}emailInvalid = false;

onValidarEmail(event: Event): void {
  const input = event.target as HTMLInputElement;
  const valor = input.value;
  this.emailInvalid = !valor.includes('@');
}

onComprovarEmail(event: FocusEvent): void {
  const input = event.target as HTMLInputElement;
  if (input.value === '') {
    this.emailInvalid = true;
  }
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_118 %}

    {% capture success_event %}
<strong>Clau:</strong> L'objecte <code>$event</code> proporciona accés complet a la informació de l'esdeveniment per validacions, condicionals i lògica complexa.
    {% endcapture %}
    {% include success_box.html contingut=success_event %}
  {% endcapture %}
  {% include section-point.html numero="3.8" titol="Objecte $event: accedir a informació de l'esdeveniment" contingut=section_point_3_8 %}

  {% capture section_point_3_9 %}
    <p>Crearem un component <code>TargetaElementComponent</code> amb:</p>

    <ul>
      <li>Botó per marcar/desmarcar destacat</li>
      <li>Textarea per afegir comentaris amb comptador de caràcters</li>
      <li>Validació i feedback visual</li>
    </ul>

    <h4>targeta-element.component.ts</h4>

    {% capture code_119 %}import { Component, Input } from '@angular/core';

interface Element {
  id: number;
  nom: string;
  categoria: string;
}

@Component({
  selector: 'app-targeta-element',
  templateUrl: './targeta-element.component.html',
  styleUrls: ['./targeta-element.component.scss']
})
export class TargetaElementComponent {
  @Input() element!: Element;

  destacat = false;
  comentari = '';
  readonly MAX_CARACTERES = 200;
  missatgeDesat = false;

  get caracteresRestants(): number {
    return this.MAX_CARACTERES - this.comentari.length;
  }

  get comentariValid(): boolean {
    return this.comentari.trim().length > 0 &&
           this.comentari.length <= this.MAX_CARACTERES;
  }

  onToggleDestacat(): void {
    this.destacat = !this.destacat;
    console.log(`Element ${this.destacat ? 'destacat' : 'no destacat'}`);
  }

  onCanviComentari(event: Event): void {
    const textarea = event.target as HTMLTextAreaElement;
    this.comentari = textarea.value;
  }

  onDesarComentari(): void {
    if (this.comentariValid) {
      console.log('Comentari desat:', this.comentari);
      this.missatgeDesat = true;

      setTimeout(() => {
        this.missatgeDesat = false;
      }, 2000);
    }
  }

  onNetejarComentari(): void {
    this.comentari = '';
    this.missatgeDesat = false;
  }

  onTeclaTextarea(event: KeyboardEvent): void {
    if (event.key === 'Escape') {
      this.onNetejarComentari();
    }
  }
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_119 %}

    <h4>targeta-element.component.html</h4>

    {% capture code_120 %}<div class="targeta" [class.destacat]="destacat">
  <h3>{% raw %}{{ element.nom }}{% endraw %}</h3>
  <p class="categoria">{% raw %}{{ element.categoria }}{% endraw %}</p>

  <!-- Botó destacat -->
  <button type="button"
          class="btn-destacat"
          (click)="onToggleDestacat()">
    {% raw %}{{ destacat ? '⭐ Destacat' : '☆ Marcar com destacat' }}{% endraw %}
  </button>

  <!-- Comentaris -->
  <div class="comentaris">
    <label for="comentari">Afegir comentari:</label>
    <textarea id="comentari"
              [value]="comentari"
              (input)="onCanviComentari($event)"
              (keyup)="onTeclaTextarea($event)"
              placeholder="Escriu el teu comentari..."
              [maxlength]="MAX_CARACTERES"
              rows="3"></textarea>

    <div class="info-comentari">
      <span [class.avís]="caracteresRestants < 20">
        {% raw %}{{ caracteresRestants }}{% endraw %} caràcters restants
      </span>
    </div>

    <!-- Botons -->
    <div class="accions">
      <button type="button"
              (click)="onDesarComentari()"
              [disabled]="!comentariValid">
        Desar comentari
      </button>

      <button type="button"
              (click)="onNetejarComentari()"
              [disabled]="comentari.length === 0">
        Netejar
      </button>
    </div>

    <!-- Missatge confirmació -->
    <p *ngIf="missatgeDesat" class="missatge-exit">
      ✅ Comentari desat correctament
    </p>
  </div>
</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_120 %}

    <h4>Funcionalitats implementades</h4>

    <ul>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Botó destacat amb toggle</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Textarea amb comptador de caràcters</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Validació en temps real</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Botons habilitats/deshabilitats segons estat</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Missatge de confirmació temporal</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Netejar amb tecla Esc</li>
      <li><i class="bi bi-check-circle" aria-hidden="true"></i> Feedback visual (colors, estils)</li>
    </ul>

    {% capture success_exemple %}
<strong>Clau:</strong> Aquest exemple integra múltiples esdeveniments per crear una experiència d'usuari completa i reactiva.
    {% endcapture %}
    {% include success_box.html contingut=success_exemple %}
  {% endcapture %}
  {% include section-point.html numero="3.9" titol="Exemple pràctic complet: component interactiu" contingut=section_point_3_9 %}

  {% capture section_point_3_10 %}
    <p>Podeu passar diversos tipus de paràmetres als mètodes gestors:</p>

    <h4>1. Valors literals</h4>

    {% capture code_121 %}<button (click)="onCanviaEstat('actiu')">Activar</button>
<button (click)="onCanviaEstat('inactiu')">Desactivar</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_121 %}

    {% capture code_122 %}onCanviaEstat(estat: string): void {
  console.log('Nou estat:', estat);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_122 %}

    <h4>2. Referències a propietats</h4>

    {% capture code_123 %}<div *ngFor="let element of elements">
  <button (click)="onVeureDetalls(element.id, element.nom)">
    Veure {% raw %}{{ element.nom }}{% endraw %}
  </button>
</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_123 %}

    {% capture code_124 %}onVeureDetalls(id: number, nom: string): void {
  console.log('Veient detalls de:', nom, 'ID:', id);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_124 %}

    <h4>3. L'objecte $event</h4>

    {% capture code_125 %}<input (input)="onCercar($event)">{% endcapture %}
    {% include code-block.html lang="html" code=code_125 %}

    {% capture code_126 %}onCercar(event: Event): void {
  const terme = (event.target as HTMLInputElement).value;
  // Processar cerca
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_126 %}

    <h4>4. Combinació de paràmetres</h4>

    {% capture code_127 %}<button (click)="onEliminar(element.id, $event)">
  Eliminar
</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_127 %}

    {% capture code_128 %}onEliminar(id: number, event: MouseEvent): void {
  event.stopPropagation(); // Atura propagació
  console.log('Eliminant element:', id);
  // Lògica d'eliminació
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_128 %}

    <h4>5. Expressions complexes</h4>

    {% capture code_129 %}<button (click)="onActualitzar({ id: element.id, actiu: true })">
  Actualitzar
</button>{% endcapture %}
    {% include code-block.html lang="html" code=code_129 %}

    {% capture code_130 %}onActualitzar(dades: { id: number; actiu: boolean }): void {
  console.log('Actualitzant:', dades);
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_130 %}

    <h4>Ordre recomanat dels paràmetres</h4>

    <ol>
      <li>Paràmetres de negoci (id, nom, objecte)</li>
      <li><code>$event</code> (si cal)</li>
    </ol>

    {% capture code_131 %}// Ordre correcte: paràmetres de negoci primer, $event després
onEliminar(id: number, event: MouseEvent): void { }

// Ordre incorrecte: $event primer
onEliminar(event: MouseEvent, id: number): void { }{% endcapture %}
    {% include code-block.html lang="typescript" code=code_131 %}

    {% capture success_parametres %}
<strong>Clau:</strong> Podeu passar qualsevol combinació de literals, variables i <code>$event</code> per fer els mètodes més flexibles i reutilitzables.
    {% endcapture %}
    {% include success_box.html contingut=success_parametres %}
  {% endcapture %}
  {% include section-point.html numero="3.10" titol="Passar paràmetres als mètodes gestors" contingut=section_point_3_10 %}

  {% capture section_point_3_11 %}
    <h4>Flux complet d'un esdeveniment Angular</h4>

    {% capture code_132 %}1. USUARI INTERACTUA
   └─> Fa clic en un botó
       Escriu en un input
       Envia un formulari

2. NAVEGADOR GENERA ESDEVENIMENT
   └─> Crea objecte Event amb tota la informació

3. ANGULAR DETECTA L'ESDEVENIMENT
   └─> Sintaxi (event) a la plantilla

4. ANGULAR EXECUTA MÈTODE DEL COMPONENT
   └─> Passa $event si cal
       Executa lògica TypeScript

5. MÈTODE ACTUALITZA ESTAT
   └─> Modifica propietats del component
       this.propietat = nouValor

6. CHANGE DETECTION
   └─> Angular detecta canvis automàticament

7. ACTUALITZACIÓ PLANTILLA
   └─> Re-renderitza parts afectades
       Interpolacions {% raw %}{{ }}{% endraw %}
       Property bindings [property]
       Directives *ngIf, *ngFor{% endcapture %}
    {% include code-block.html lang="text" code=code_132 %}

    <h4>Exemple complet del flux</h4>

    {% capture code_133 %}<!-- Plantilla -->
<input (input)="onCercar($event)">
<p>Resultats: {% raw %}{{ resultats.length }}{% endraw %}</p>
<div *ngFor="let element of resultats">
  {% raw %}{{ element.nom }}{% endraw %}
</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_133 %}

    {% capture code_134 %}// Component
resultats: Element[] = [];

onCercar(event: Event): void {
  // Pas 4: Mètode executat
  const terme = (event.target as HTMLInputElement).value;

  // Pas 5: Actualitza estat
  this.resultats = this.elements.filter(el =>
    el.nom.toLowerCase().includes(terme.toLowerCase())
  );

  // Pas 6-7: Angular actualitza automàticament
  // la plantilla amb els nous resultats
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_134 %}

    <h4>Punts clau del sistema</h4>

    <ul>
      <li><strong>Declaratiu:</strong> La plantilla declara quins esdeveniments capturar</li>
      <li><strong>Automàtic:</strong> Angular gestiona detecció i actualització</li>
      <li><strong>Reactiu:</strong> Canvis a propietats → actualització immediate</li>
      <li><strong>Desacoblat:</strong> Lògica separada de presentació</li>
      <li><strong>Testable:</strong> Mètodes purs testables amb Jasmine</li>
    </ul>

    {% capture success_flux %}
<strong>Clau:</strong> Aquest flux bidireccional (component ↔ plantilla) és la base de les aplicacions Angular reactives i interactives.
    {% endcapture %}
    {% include success_box.html contingut=success_flux %}
  {% endcapture %}
  {% include section-point.html numero="3.11" titol="Resum del flux complet" contingut=section_point_3_11 %}

  {% capture section_point_3_12 %}
    <p>Exemple complet que integra tots els conceptes de la lectura:</p>

    <h4>cataleg.component.html</h4>

    {% capture code_135 %}<div class="cataleg">
  <h2>Catàleg d'elements ({% raw %}{{ elementsVisibles.length }}{% endraw %})</h2>

  <!-- Cerca -->
  <input type="text"
         placeholder="Cerca elements..."
         (input)="onCercar($event)"
         (keyup.escape)="onNetejarCerca()">

  <!-- Filtre -->
  <select (change)="onFiltraCategoria($event)">
    <option value="">Totes les categories</option>
    <option value="electrònica">Electrònica</option>
    <option value="roba">Roba</option>
  </select>

  <!-- Targetes -->
  <div *ngFor="let element of elementsVisibles" class="targeta">
    <h3>{% raw %}{{ element.nom }}{% endraw %}</h3>
    <button (click)="onAfegirAFavorits(element)">
      ⭐ Afegir a favorits
    </button>
  </div>
</div>{% endcapture %}
    {% include code-block.html lang="html" code=code_135 %}

    <h4>cataleg.component.ts</h4>

    {% capture code_136 %}export class CatalegComponent {
  elements: Element[] = [
    { id: 1, nom: 'Portàtil', categoria: 'electrònica' },
    { id: 2, nom: 'Samarreta', categoria: 'roba' },
    { id: 3, nom: 'Ratolí', categoria: 'electrònica' }
  ];

  elementsVisibles: Element[] = this.elements;

  onCercar(event: Event): void {
    const terme = (event.target as HTMLInputElement).value.toLowerCase();
    this.elementsVisibles = this.elements.filter(el =>
      el.nom.toLowerCase().includes(terme)
    );
  }

  onFiltraCategoria(event: Event): void {
    const categoria = (event.target as HTMLSelectElement).value;
    if (categoria === '') {
      this.elementsVisibles = this.elements;
    } else {
      this.elementsVisibles = this.elements.filter(el =>
        el.categoria === categoria
      );
    }
  }

  onAfegirAFavorits(element: Element): void {
    console.log('Afegit a favorits:', element.nom);
  }

  onNetejarCerca(): void {
    this.elementsVisibles = this.elements;
  }
}{% endcapture %}
    {% include code-block.html lang="typescript" code=code_136 %}
  {% endcapture %}
  {% include section-point.html numero="3.12" titol="Mini exemple final consolidat" contingut=section_point_3_12 %}

  {% capture section_point_3_13 %}
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Símptoma</th>
          <th>Causa</th>
          <th>Solució</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>(click)</code> no executa</td>
          <td>Sintaxi incorrecta</td>
          <td>Comproveu <code>(click)="method()"</code> i que el mètode existeix</td>
        </tr>
        <tr>
          <td>Botó envia formulari</td>
          <td><code>type</code> no especificat</td>
          <td>Afegiu <code>type="button"</code> al botó</td>
        </tr>
        <tr>
          <td><code>$event</code> és <code>undefined</code></td>
          <td>No passat correctament</td>
          <td>Escriviu <code>(event)="method($event)"</code> amb <code>$</code></td>
        </tr>
        <tr>
          <td>Error <code>Property 'value'...</code></td>
          <td>Falta casting</td>
          <td>Utilitzeu <code>(event.target as HTMLInputElement).value</code></td>
        </tr>
        <tr>
          <td>Canvis no es reflecteixen</td>
          <td>Falta vinculació</td>
          <td>Utilitzeu <code>[value]="prop" (input)="onChange($event)"</code></td>
        </tr>
        <tr>
          <td>Mètode s'executa immediatament</td>
          <td>Parèntesis incorrectes</td>
          <td>Escriviu <code>(click)="method()"</code> NO <code>(click)="method"</code></td>
        </tr>
        <tr>
          <td>Formulari recarrega pàgina</td>
          <td>Falta <code>preventDefault()</code></td>
          <td>Al mètode: <code>event.preventDefault();</code></td>
        </tr>
        <tr>
          <td>Esdeveniment es propaga</td>
          <td>Event bubbling no aturat</td>
          <td>Afegiu <code>event.stopPropagation()</code></td>
        </tr>
      </tbody>
    </table>
  {% endcapture %}
  {% include section-point.html numero="3.13" titol="Resolució de problemes" contingut=section_point_3_13 %}

  {% capture section_point_3_14 %}
    {% capture prompt_1 %}<strong>Rol:</strong> formador tècnic Angular. <strong>Context:</strong> explicar diferència entre interpolació i event binding. <strong>Tasca:</strong> crea taula comparativa amb columnes "Característica", "Interpolació {% raw %}{{ }}{% endraw %}", "Event Binding ( )" mostrant 5 diferències clau (flux dades, sintaxi, cas d'ús, exemple, restriccions). <strong>Format:</strong> taula Markdown amb exemples codi curts.{% endcapture %}
    {% include prompt-ai.html contingut=prompt_1 %}

    {% capture prompt_2 %}<strong>Rol:</strong> mentor programació web. <strong>Context:</strong> alumne pregunta per què usar <code>(click)</code> en lloc d'<code>onclick</code>. <strong>Tasca:</strong> explica en màxim 100 paraules 3 avantatges principals de la sintaxi Angular respecte a HTML tradicional (seguretat, mantenibilitat, testabilitat). <strong>Format:</strong> paràgraf curt amb 3 punts numerats.{% endcapture %}
    {% include prompt-ai.html contingut=prompt_2 %}

    {% capture prompt_3 %}<strong>Rol:</strong> tècnica de suport. <strong>Context:</strong> alumnat oblida el <code>$</code> quan accedeixen a <code>$event</code>. <strong>Tasca:</strong> crea llista de 4 passos de verificació quan un mètode amb <code>$event</code> no funciona: "1. Comprova...", "2. Revisa...", incloent què mirar al template i component. <strong>Format:</strong> llista numerada amb instruccions específiques.{% endcapture %}
    {% include prompt-ai.html contingut=prompt_3 %}
  {% endcapture %}
  {% include section-point.html numero="3.14" titol="Prompts d'IA" contingut=section_point_3_14 %}

  {% capture section_point_3_15 %}
    <h4>Conceptes teòrics</h4>
    {% include checklist.html elements="Comprenc què són els esdeveniments d'usuari i per què són essencials|Entenc la diferència entre event binding <code>()</code> i property binding <code>[]</code>|Sé explicar el flux bidireccional entre component i plantilla|Comprenc què és l'objecte <code>$event</code> i per què és útil" %}

    <h4>Habilitats pràctiques</h4>
    {% capture checklist_practiques %}Sé utilitzar la sintaxi <code>(event)="method()"</code> per vincular esdeveniments|Conec els esdeveniments habituals (click, input, change, submit, keyup)|He creat mètodes amb noms descriptius per gestionar esdeveniments (prefixe <code>on</code>)|Sé accedir a l'objecte <code>$event</code> i utilitzar les seves propietats|He implementat exemples pràctics amb botons, inputs i selects|Comprenc com passar diferents tipus de paràmetres als mètodes|Sé utilitzar <code>preventDefault()</code> per evitar comportaments per defecte|He creat un component interactiu amb múltiples esdeveniments{% endcapture %}
    {% include checklist.html elements=checklist_practiques %}

    <h4>Resolució de problemes</h4>
    {% include checklist.html elements="Sé què fer si <code>(click)</code> no executa el mètode|Puc diagnosticar errors amb <code>$event</code> (falta <code>$</code>, casting incorrecte)|Entenc el flux complet des de la interacció fins a l'actualització de la interfície" %}
  {% endcapture %}
  {% include section-point.html numero="3.15" titol="Autoavaluació" contingut=section_point_3_15 %}

  {% capture section_point_3_16 %}
    <p>En aquesta lectura heu après a capturar i gestionar esdeveniments d'usuari, la base de la interactivitat en aplicacions web. Heu comprès què són els esdeveniments del DOM, per què són importants i com Angular simplifica el seu ús amb la sintaxi declarativa <code>(event)="method()"</code>.</p>

    <p>Heu explorat els esdeveniments més habituals (click, input, change, submit, keyup) i sabeu quan aplicar cadascun. Heu après a crear mètodes amb noms descriptius que gestionen les accions de l'usuari, actualitzen l'estat i proporcionen feedback immediat.</p>

    <p>Heu descobert l'objecte <code>$event</code> i com accedir a informació específica (valor d'inputs, tecles premudes). Sabeu utilitzar <code>preventDefault()</code> per evitar comportaments per defecte i <code>stopPropagation()</code> per controlar la propagació.</p>

    <p>Heu practicat amb múltiples exemples: botons que canvien text, inputs amb valors en temps real, formularis de cerca i filtres. Heu implementat un component interactiu complet amb validacions, comptadors i estat reactiu.</p>

    <p>Finalment, compreneu el flux complet bidireccional: l'usuari interactua, Angular captura l'esdeveniment, executa el mètode, actualitza l'estat i re-renderitza automàticament la plantilla. Aquest patró és fonamental per crear aplicacions reactives i intuïtives.</p>
  {% endcapture %}
  {% include section-point.html numero="3.16" titol="Síntesi" contingut=section_point_3_16 %}

  {% capture section_point_3_17 %}
    {% include definicio.html terme="Esdeveniment d'usuari" definicio="Acció que l'usuari realitza sobre la interfície que el navegador detecta i registra." %}

    {% include definicio.html terme="Vinculació d'esdeveniments (event binding)" definicio="Sintaxi Angular <code>(event)=\"method()\"</code> que connecta esdeveniments DOM amb mètodes del component." %}

    {% include definicio.html terme="Flux bidireccional" definicio="El component envia dades a la plantilla (property binding) i la plantilla retorna accions al component (event binding)." %}

    {% include definicio.html terme="$event" definicio="Paràmetre especial que representa l'objecte original de l'esdeveniment del DOM." %}

    {% include definicio.html terme="Esdeveniments habituals" definicio="<code>click</code> (clic element), <code>input</code> (cada tecla), <code>change</code> (canvi valor), <code>submit</code> (enviament formulari), <code>keyup</code> (alliberar tecla), <code>focus</code>/<code>blur</code> (guanyar/perdre focus)." %}

    {% include definicio.html terme="Mètode gestor" definicio="Funció del component que s'executa quan es produeix un esdeveniment, amb nom descriptiu (prefixe <code>on</code> + acció)." %}

    {% include definicio.html terme="preventDefault()" definicio="Cancel·la el comportament per defecte de l'esdeveniment." %}

    {% include definicio.html terme="stopPropagation()" definicio="Atura la propagació de l'esdeveniment cap als elements pares." %}

    {% include definicio.html terme="Casting de tipus" definicio="Conversió explícita necessària per accedir a propietats concretes (<code>event.target as HTMLInputElement</code>)." %}

    {% include definicio.html terme="Change Detection" definicio="Sistema d'Angular que detecta canvis a propietats i actualitza automàticament la plantilla." %}

    {% include definicio.html terme="Component reactiu" definicio="Component que respon immediatament a les accions de l'usuari actualitzant el seu estat i visualització." %}
  {% endcapture %}
  {% include section-point.html numero="3.17" titol="Repàs de conceptes" contingut=section_point_3_17 %}

</div>
