:root{--color-primary: #3b4a79;--color-secondary: #2c3e50;--color-accent: #3498db;--color-success: #27ae60;--color-warning: #f39c12;--color-danger: #e74c3c;--color-background: #fff;--color-surface: #f8f9fa;--color-surface-dark: #e9ecef;--color-border: #ddd;--color-text: #333;--color-text-muted: #666;--shadow-light: 0 2px 4px rgba(0, 0, 0, 0.03);--shadow-medium: 0 4px 6px rgba(0, 0, 0, 0.07);--border-radius: 8px;--comp-bg: #f1f3f5;--comp-header-bg: #e4e8ed;--comp-header-fg: #3a3f45;--comp-border: #cfd6dd;--comp-info: #5b8bd1;--comp-success: #6ea96e;--comp-warning: #d0a04a;--comp-error: #d1756a;--comp-solution: #6ea96e;--comp-suggestion: #5baaa6;--comp-ai: #4aa3df;--comp-info-hbg: #eaf2fe;--comp-success-hbg: #eaf6ea;--comp-warning-hbg: #fff6c2;--comp-error-hbg: #ffe9ea;--comp-solution-hbg: #edf7ea;--comp-suggestion-hbg: #e8f5f4;--comp-ai-hbg: #eef7ff}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;line-height:1.6;color:var(--color-text);background-color:var(--color-background);transition:all 0.3s ease;padding:20px}.container{max-width:1400px;margin:0 auto;background-color:var(--color-background);display:flex;gap:30px}.main-content{flex:1}.header{position:fixed;top:0;left:0;right:0;z-index:1000;background-color:var(--color-surface);border-bottom:1px solid var(--color-border);padding:10px 20px;box-shadow:var(--shadow-light);display:flex;justify-content:space-between;align-items:center}.header h1{color:var(--color-primary);font-size:1.4rem;margin:0}.header-controls{display:flex;align-items:center;gap:15px}body{padding-top:70px;padding-bottom:20px}body.default-mod-layout{padding-top:0;padding-bottom:0}.default-mod-layout .header{position:static}.site-shell{display:flex;flex-direction:column;min-height:100vh}.site-body{display:flex;gap:24px;max-width:1400px;margin:0 auto;padding:20px;flex:1;background-color:var(--color-background)}.site-sidebar{width:240px;flex-shrink:0}.site-main{flex:1;padding-bottom:60px}.footer{position:fixed;bottom:0;left:0;right:0;z-index:999;background-color:var(--color-surface);border-top:1px solid var(--color-border);padding:8px 20px;box-shadow:0 -2px 4px rgba(0,0,0,0.03)}.footer-content{display:grid;grid-template-columns:auto 1fr auto;align-items:center;font-size:0.8rem}.footer-info{justify-self:start}.footer-progress{justify-self:center;text-align:center}.footer-actions{justify-self:end}.footer-info{color:var(--color-text-muted)}.footer-progress{display:flex;align-items:center;gap:14px}.progress-group{display:flex;align-items:center;gap:8px}.progress-label{color:var(--color-text-muted);font-weight:600}.progress-text{color:var(--color-text-muted);font-size:0.8rem}.progress-bar-footer{width:140px;height:6px;background-color:var(--color-border);border-radius:3px;overflow:hidden}.progress-fill-footer{height:100%;background-color:var(--color-primary);border-radius:3px;transition:width 0.5s ease;width:0%}.main-content{padding-bottom:30px}.bloc-layout .main-content{padding-bottom:50px}.footer-actions{display:flex;align-items:center;gap:6px}.task-btn{width:28px;height:28px;border-radius:6px;display:inline-flex;align-items:center;justify-content:center;background-color:var(--color-surface-dark);border:1px solid var(--color-border);color:var(--color-text);text-decoration:none;font-size:16px;line-height:1;cursor:pointer}.task-btn:hover{background-color:var(--color-surface-dark);box-shadow:none;transform:none;border-color:var(--color-border)}.header-brand{display:flex;align-items:center;gap:12px}.header-brand .logo-link,.header-brand .title-link{text-decoration:none;color:inherit}.header-brand .logo-link:hover,.header-brand .title-link:hover{text-decoration:none}.header-brand .logo{height:50px;width:auto;transition:opacity 0.3s ease}.header-brand .logo.logo-light{display:block}.header-brand .logo.logo-dark{display:none}.header-brand h1{margin:0;flex:1;color:var(--color-primary)}[data-theme='dark'] .header-brand .logo-light{display:none}[data-theme='dark'] .header-brand .logo-dark{display:block}@media (max-width: 768px){.header-brand .logo{height:40px}.header-brand{gap:8px}}.skip-link{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}.skip-link:focus{clip:auto;width:auto;height:auto;margin:0;padding:8px 10px;top:8px;left:8px;z-index:10000;background:var(--color-primary);color:#fff;border-radius:4px}.sidebar{width:220px;position:sticky;top:90px;height:fit-content}.sidebar-section{background-color:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);padding:20px;margin-bottom:15px;box-shadow:var(--shadow-light)}.sidebar-section:last-child{margin-bottom:0}.sidebar-section h3{margin:0 0 15px 0;font-size:1rem;color:var(--color-primary);border-bottom:1px solid var(--color-border);padding-bottom:8px}.nav-item{margin-bottom:8px}.nav-link,.course-nav-link{display:block;padding:10px 12px;color:var(--color-text);text-decoration:none;font-size:0.9rem;border-radius:4px;transition:all 0.3s ease;margin-bottom:6px;background-color:var(--color-surface-dark)}.nav-link:hover,.course-nav-link:hover{background-color:var(--color-primary);color:white}.nav-link.current{background-color:var(--color-primary);color:#fff}.course-nav-link.current-block{background-color:var(--color-primary);color:white;font-weight:600}.nav-dropdown{position:relative}.nav-dropdown-btn{background-color:var(--color-surface-dark);color:var(--color-text);border:1px solid var(--color-border);padding:10px 20px;border-radius:var(--border-radius);cursor:pointer;font-size:0.9rem;font-weight:500;transition:all 0.3s ease}.nav-dropdown-btn:hover{background-color:var(--color-surface-dark);transform:none;box-shadow:none;border-color:var(--color-border);color:var(--color-text)}.nav-dropdown-content{position:absolute;top:100%;right:0;background-color:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);box-shadow:var(--shadow-medium);min-width:200px;padding:10px;display:none;margin-top:5px}.nav-dropdown.open .nav-dropdown-content{display:block}.nav-dropdown-item{display:block;padding:10px 12px;color:var(--color-text);text-decoration:none;font-size:0.9rem;border-radius:4px;transition:all 0.3s ease;margin-bottom:4px;background-color:var(--color-surface-dark)}.nav-dropdown-item:hover,.nav-dropdown-item.current{background-color:var(--color-primary);color:white}.nav-dropdown-item:last-child{margin-bottom:0}.btn,.nav-button,.theme-toggle{background-color:var(--color-surface-dark);color:var(--color-text);border:1px solid var(--color-border);padding:10px 20px;border-radius:var(--border-radius);cursor:pointer;font-size:0.9rem;font-weight:500;transition:all 0.3s ease;text-decoration:none;display:inline-block}.btn:hover,.theme-toggle:hover{background-color:var(--color-surface-dark);box-shadow:none;transform:none;border:1px solid var(--color-border);color:var(--color-text)}.btn:disabled,.nav-button:disabled{background-color:var(--color-border);color:var(--color-text-muted);cursor:not-allowed;opacity:0.6;transform:none;box-shadow:none}.nav-button:hover{background-color:var(--color-surface-dark);box-shadow:none;transform:none;border:1px solid var(--color-border);color:var(--color-text)}.block-navigation{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-border)}.nav-link.prev-block,.nav-link.next-block{display:block;padding:15px;background-color:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);text-decoration:none;color:inherit;transition:all 0.3s ease}.nav-link.prev-block:hover,.nav-link.next-block:hover{background-color:var(--color-primary);color:white;transform:translateY(-1px);box-shadow:var(--shadow-medium)}.page-navigation{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-border);margin-bottom:18px}.page-navigation .nav-links-container{display:flex;justify-content:space-between;gap:10px}.page-navigation .nav-link-wrapper{flex:1;display:flex}.page-navigation .nav-link-wrapper:first-child{justify-content:flex-start}.page-navigation .nav-link-wrapper:last-child{justify-content:flex-end}.page-navigation .nav-button{min-width:180px;text-align:center}.page-navigation{position:relative}.horizontal-nav{margin-top:12px;margin-bottom:20px;padding:15px 0;border-bottom:none}.bloc-layout .horizontal-nav{margin-top:16px;margin-bottom:8px;padding:8px 0}.horizontal-nav-list{display:flex;align-items:center;flex-wrap:wrap;gap:5px}.horizontal-nav .horizontal-nav-item{color:var(--color-accent);text-decoration:none;font-weight:500;transition:color 0.3s ease}.horizontal-nav .horizontal-nav-item:hover{color:var(--color-primary)}.horizontal-nav-item.current{color:var(--color-text);font-weight:600}.horizontal-nav-separator{color:var(--color-text-muted);margin:0 5px}.btn,.nav-button,.theme-toggle{border:1px solid var(--color-border)}.btn:hover,.nav-button:hover,.theme-toggle:hover{border:1px solid var(--color-border);color:inherit;box-shadow:none;transform:none}.section{background-color:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);padding:30px;margin-bottom:30px;box-shadow:var(--shadow-light)}.content-body .section:first-of-type{margin-top:0;padding-top:15px}.content-body ul,.content-body ol{margin-left:1.5rem;padding-left:1.2rem;margin-bottom:1rem}.content-body li{margin-bottom:0.3rem}.content-body h2,.content-body h3,.content-body h4{margin:0 0 0.6rem 0}.content-body .section h2{border-bottom:1px solid var(--color-text);padding-bottom:0.3rem}.code-inline{background-color:var(--code-border);color:var(--code-accent);padding:2px 6px;border-radius:4px;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;font-size:0.9em}.info-box,.warning-box,.success-box,.problem-box,.solution-box,.suggestion-box,.ai-prompt,.objectius-box,.exercise-box,.figure-box,.resources-box,.definition-box{background-color:var(--comp-bg);border:1px solid var(--comp-border);padding:15px;margin:20px 0;border-radius:var(--border-radius);box-shadow:var(--shadow-light)}.component-header{font-weight:600;color:var(--comp-header-fg);background-color:var(--comp-header-bg);margin:-15px -15px 15px -15px;padding:12px 15px;border-radius:var(--border-radius) var(--border-radius) 0 0;display:flex;align-items:center;gap:8px;border-bottom:1px solid var(--comp-border)}.info-header{background-color:var(--comp-info-hbg)}.warning-header{background-color:var(--comp-warning-hbg)}.success-header{background-color:var(--comp-success-hbg)}.error-header{background-color:var(--comp-error-hbg)}.solution-header{background-color:var(--comp-solution-hbg)}.suggestion-header{background-color:var(--comp-suggestion-hbg)}.ai-header{background-color:var(--comp-ai-hbg)}.ai-container{padding:8px 12px}.ai-prompt-content{padding:10px 12px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:6px;color:var(--color-text);white-space:pre-wrap;word-break:break-word}.ai-header{position:relative}.ai-header .ai-actions{margin-left:auto;display:flex;gap:8px}.ai-header .copy-btn{background-color:var(--color-surface-dark);color:var(--color-text);border:1px solid var(--color-border);padding:4px 8px;border-radius:6px;cursor:pointer;font-size:12px}.ai-header .copy-btn:hover{background-color:var(--color-surface-dark)}.ai-prompt .copy-btn:focus{outline:2px solid #4fc3f7;outline-offset:2px}.ai-prompt .copy-btn.copied{background:#4caf50;color:#fff}.exercise-meta{color:var(--color-text);margin:10px 0 6px 0;display:flex;gap:8px;flex-wrap:wrap}.badge{background-color:var(--color-surface-dark);border:1px solid var(--color-border);color:var(--color-text);border-radius:9999px;padding:2px 8px;font-size:0.8rem}.exercise-hints{margin-top:8px}.exercise-hints summary{cursor:pointer;color:var(--color-accent);text-decoration:none}.exercise-hints summary:hover{color:var(--color-primary)}.exercise-description p{margin:0 0 10px 0}.figure{margin:0}.figure-img{max-width:100%;height:auto;display:block;border:1px solid var(--color-border);border-radius:var(--border-radius);background:var(--color-background)}.figure-caption{color:var(--color-text-muted);font-size:0.9rem;margin-top:6px}.resource-list{margin:0;padding-left:18px}.resource-item{margin-bottom:6px}.resource-item:last-child{margin-bottom:0}.resource-link{text-decoration:none;color:var(--color-accent)}.resource-link:hover{color:var(--color-primary)}.component-content a{color:var(--color-accent);text-decoration:none}.component-content a:hover{color:var(--color-primary)}.checklist{background-color:var(--comp-bg);border:1px solid var(--comp-border);border-radius:var(--border-radius);padding:20px;margin:20px 0;box-shadow:var(--shadow-light)}.checklist-title{background-color:var(--comp-header-bg);color:var(--comp-header-fg);font-weight:600;margin:-20px -20px 15px -20px;padding:15px 20px;border-radius:var(--border-radius) var(--border-radius) 0 0;display:flex;align-items:center;gap:8px;border-bottom:1px solid var(--comp-border)}.checklist-item{display:flex;align-items:flex-start;gap:10px;margin-bottom:10px;padding:8px;border-radius:4px;transition:background-color 0.3s ease}.checklist-item:hover{background-color:rgba(0,0,0,0.03)}.checklist-checkbox{width:18px;height:18px;border:2px solid var(--comp-info);border-radius:3px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;flex-shrink:0;margin-top:2px}.checklist-checkbox.checked{background-color:var(--comp-success);border-color:var(--comp-success)}.checklist-checkbox.checked::after{content:"✓";color:white;font-size:12px;font-weight:bold}.checklist-text{line-height:1.4}.responsive-table{width:100%;border-collapse:collapse;margin:20px 0;background-color:var(--color-background);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow-light)}.responsive-table th,.responsive-table td{padding:12px 15px;text-align:left;border-bottom:1px solid var(--color-border)}.responsive-table th{background-color:var(--color-primary);color:white;font-weight:600}.responsive-table tr:hover{background-color:rgba(52,152,219,0.05)}.add-note-btn{position:absolute;right:0;top:0;transform:translateY(-10%);width:28px;height:28px;border-radius:6px;background-color:var(--color-surface-dark);border:1px solid var(--color-border);color:var(--color-text);font-size:16px;line-height:1;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}.add-note-btn:hover{background-color:var(--color-surface-dark)}.add-note-btn:focus{outline:2px solid var(--color-primary);outline-offset:2px}@media (hover: hover) and (pointer: fine){.content-body h2 .add-note-btn{opacity:0;pointer-events:none;transition:opacity 0.2s ease}.content-body h2:hover .add-note-btn,.content-body h2:focus-within .add-note-btn{opacity:1;pointer-events:auto}}@media (hover: none), (pointer: coarse){.content-body h2 .add-note-btn{opacity:1;pointer-events:auto}}.content-body h2 .add-note-btn{opacity:1 !important;pointer-events:auto !important}.notes-modal{position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:1005;display:flex;align-items:center;justify-content:center;padding:16px;transition:all 0.3s ease}.notes-dialog{background:var(--color-surface);color:var(--color-text);border:2px solid var(--color-border);border-radius:12px;width:min(480px, 90vw);padding:20px;box-shadow:var(--shadow-medium);transition:all 0.3s ease;transform:scale(1)}.notes-dialog:hover{transform:scale(1.01)}.notes-dialog-title{font-weight:600;margin-bottom:12px;color:var(--color-primary);font-size:1.1rem}.notes-dialog-body{margin-bottom:16px;line-height:1.5}.notes-dialog-actions{display:flex;gap:12px;justify-content:flex-end}.btn-danger{background-color:var(--comp-error);color:#fff;border:1px solid var(--comp-error);border-radius:8px;padding:8px 16px;transition:all 0.3s ease}.btn-danger:hover{background-color:var(--comp-error);transform:scale(1.05);box-shadow:0 2px 8px rgba(239,68,68,0.3)}.academic-info{margin-bottom:2rem;padding:1.5rem 0;border-bottom:1px solid var(--color-border)}.academic-info .course-header{display:flex;justify-content:space-between;align-items:flex-end;max-width:1200px;margin:0 auto;padding:0 20px}.academic-info .course-title-section{flex:1}.academic-info .cicle-tag{display:inline-block;color:var(--color-primary);font-size:0.9rem;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem}.academic-info .module-title{font-size:2.2rem;font-weight:700;color:var(--color-primary);margin:0;line-height:1.1}.academic-info .course-details{text-align:right;display:flex;flex-direction:column;gap:0.3rem}.academic-info .author-info{display:flex;flex-direction:column;gap:0.2rem}.academic-info .author-name{font-size:1rem;font-weight:600;color:var(--color-text);line-height:1.2}.academic-info .institution{font-size:0.85rem;color:var(--color-text-muted);font-weight:500}@media (max-width: 768px){.academic-info{padding:1rem 0}.academic-info .course-header{flex-direction:column;align-items:flex-start;gap:1rem;padding:0 15px}.academic-info .course-details{text-align:left}.academic-info .module-title{font-size:1.8rem}.academic-info .cicle-tag{font-size:0.8rem}}.course-index{max-width:1200px;margin:0 auto;padding:20px}.course-content{margin-top:40px}.unit-section{margin-bottom:50px;border:1px solid var(--color-border);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow-light)}.unit-section:last-child{margin-bottom:10px}.unit-header{background-color:var(--color-primary);color:white;padding:25px}.unit-title{margin:0 0 10px 0;font-size:1.8rem;font-weight:600}.unit-title a{color:inherit;text-decoration:none}.unit-title a:hover{text-decoration:none}.unit-number{display:inline-block;background-color:rgba(255,255,255,0.2);color:white;padding:5px 12px;border-radius:20px;font-size:0.9rem;margin-right:15px;font-weight:500}.blocks-container{background-color:var(--color-surface);padding:20px;display:grid;grid-template-columns:repeat(auto-fit, minmax(400px, 1fr));gap:20px}.block-item{border:1px solid var(--color-border);border-radius:var(--border-radius);overflow:hidden;transition:all 0.3s ease;background-color:var(--color-background)}.block-item:hover{transform:none;box-shadow:none;border-color:var(--color-border)}.block-link{display:block;text-decoration:none;color:inherit;padding:20px;height:100%}.block-header{margin-bottom:12px}.block-number{display:inline-block;background-color:var(--color-accent);color:white;padding:4px 10px;border-radius:15px;font-size:0.8rem;font-weight:600;margin-bottom:8px}.block-title{margin:8px 0;font-size:1.3rem;font-weight:600;color:var(--color-primary);line-height:1.3}.block-description{margin:0;color:var(--color-text-muted);line-height:1.6;font-size:0.95rem}.unit-page{max-width:1200px;margin:0 auto;padding:20px}.unit-hero{text-align:center;margin-bottom:50px;padding:40px 20px;background-color:var(--color-primary);border-radius:var(--border-radius);color:white}.unit-badge{display:inline-block;background-color:rgba(255,255,255,0.2);padding:8px 20px;border-radius:25px;font-weight:600;font-size:0.9rem;margin-bottom:15px;text-transform:uppercase;letter-spacing:1px}.unit-title{margin:0 0 20px 0;font-size:2.5rem;font-weight:700;line-height:1.2}.unit-description{margin:0;font-size:1.2rem;line-height:1.6;max-width:600px;margin:0 auto;opacity:0.95}.unit-introduction{max-width:800px;margin:0 auto 40px auto;padding:30px;background-color:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius)}.unit-introduction h2{margin:0 0 20px 0;font-size:1.4rem;color:var(--color-text);font-weight:600}.unit-introduction p{margin:0;line-height:1.7;color:var(--color-text-muted);font-size:1rem}.unit-content{margin-top:40px}.blocks-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(350px, 1fr));gap:25px}.block-card{background:var(--color-background);border:1px solid var(--color-border);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow-light);padding:25px;display:flex;flex-direction:column;height:100%}.block-card-header{margin-bottom:20px}.block-summary{margin-bottom:20px;flex-grow:1}.summary-title{margin:0 0 10px 0;font-size:0.9rem;font-weight:600;color:var(--color-primary);text-transform:uppercase;letter-spacing:0.5px}.block-number{display:inline-block;background-color:var(--color-primary);color:white;padding:6px 14px;border-radius:20px;font-size:0.85rem;font-weight:700;margin-bottom:12px}.block-title{margin:0;font-size:1.4rem;font-weight:600;color:var(--color-text);line-height:1.3}.block-description{margin:0;color:var(--color-text-muted);line-height:1.6;font-size:0.95rem}.block-action{display:block;margin-top:auto;padding:15px;border-top:1px solid var(--color-border);text-decoration:none;color:inherit;text-align:center;background-color:var(--color-surface);transition:background-color 0.2s ease}.block-action:hover{background-color:var(--color-primary);text-decoration:none}.block-action:hover .block-link-text{color:white}.block-link-text{color:var(--color-primary);font-weight:600;font-size:0.9rem;text-transform:uppercase;letter-spacing:0.5px}@media (max-width: 768px){.unit-page{padding:15px}.unit-hero{padding:30px 20px;margin-bottom:30px}.unit-title{font-size:2rem}.unit-description{font-size:1.1rem}.unit-introduction{padding:25px 20px}.blocks-grid{grid-template-columns:1fr;gap:20px}.block-card{padding:20px}}:root{--quadern-header-height: 60px;--quadern-sidebar-width: 350px;--quadern-footer-height: 40px;--quadern-accent: var(--color-primary);--quadern-accent-hover: var(--color-primary-dark);--quadern-danger: #ef4444;--quadern-success: #10b981;--quadern-warning: #f59e0b}.quadern-layout{font-family:'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;font-size:16px;line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:var(--color-background);color:var(--color-text);overflow-x:hidden}.quadern-layout .view-btn,.quadern-layout .btn,.quadern-layout .nav-button,.quadern-layout .theme-toggle{font-size:0.95rem}body.quadern-layout{padding-top:0 !important;padding-bottom:0 !important;margin:0}.quadern-layout .skip-link{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}.quadern-layout .skip-link:focus{clip:auto;width:auto;height:auto;margin:0;padding:8px 10px;top:8px;left:8px;z-index:10000;background:var(--color-primary);color:#fff;border-radius:4px}.quadern-shell{display:flex;flex-direction:column;height:100vh}.quadern-header{position:fixed;top:0;left:0;right:0;z-index:1100;height:var(--quadern-header-height);background:var(--color-surface);border-bottom:1px solid var(--color-border);display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:16px;padding:0 20px;box-shadow:var(--shadow-light);width:100vw;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw)}.quadern-header .header-brand{display:flex;align-items:center}.quadern-header .logo-link{display:flex;align-items:center}.quadern-header .logo{height:50px;width:auto}.header-center{justify-self:center;display:flex;justify-content:center}.quadern-logo{display:flex;align-items:center;gap:10px;color:var(--quadern-accent);font-weight:700;font-size:1.3rem;padding:8px 16px;background:transparent;border-radius:10px;transition:all 0.2s ease}.quadern-layout[data-theme='dark'] .quadern-logo{background:transparent;color:#e6edf3}.quadern-logo i{font-size:1.4rem}.header-search{justify-self:center;display:flex;justify-content:center;width:100%;max-width:700px;margin:0 20px}.global-search{position:relative;width:100%;max-width:400px}.global-search input{width:100%;padding:8px 40px 8px 15px;border:2px solid var(--color-border);border-radius:25px;font-size:14px;background:var(--color-background);color:var(--color-text);transition:all 0.3s ease}.global-search input:focus{outline:none;border-color:var(--quadern-accent);box-shadow:0 0 0 3px rgba(52,152,219,0.1)}.quadern-layout[data-theme='dark'] .global-search input:focus{border-color:var(--color-border);box-shadow:0 0 0 3px rgba(255,255,255,0.08)}.global-search .search-icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--color-text-muted);pointer-events:none}.header-brand{justify-self:start}.header-controls{display:flex;align-items:center;gap:15px;justify-self:end}@media (max-width: 768px){.quadern-header .logo{height:40px}}.quadern-body{display:flex;flex:1;gap:24px;padding:20px;padding-top:calc(20px + var(--quadern-header-height));padding-bottom:20px;height:calc(100vh - var(--quadern-header-height) - var(--quadern-footer-height) - 40px);background:var(--color-background);overflow:hidden}.quadern-sidebar{position:fixed;top:calc(20px + var(--quadern-header-height));bottom:calc(20px + var(--quadern-footer-height));left:20px;width:var(--quadern-sidebar-width);background:var(--color-surface-dark);border:1px solid var(--color-border);border-radius:var(--border-radius);overflow:auto;padding:12px}.quadern-sidebar .nav-tree{background:transparent;border:none;border-radius:var(--border-radius)}.quadern-sidebar .tree-content{padding:8px}.quadern-sidebar .tree-item{border-radius:8px}.quadern-sidebar .tree-item:hover{background-color:var(--color-surface-dark) !important}.quadern-sidebar .tree-item.active{background-color:rgba(var(--color-primary-rgb, 52, 152, 219), 0.18) !important;color:var(--color-text) !important}.quadern-sidebar .tree-item .item-text{color:var(--color-text)}.quadern-sidebar .tree-item .item-icon{color:var(--color-text-muted)}.quadern-sidebar .tree-item.active .item-icon{color:var(--color-primary) !important}.quadern-layout[data-theme='dark'] .quadern-sidebar .tree-item.active{background-color:var(--color-surface-dark) !important;border:1px solid var(--color-border) !important}.quadern-layout[data-theme='dark'] .quadern-sidebar .tree-item.active .item-icon{color:#e6edf3 !important}.quadern-sidebar .breadcrumb-button{color:var(--color-text)}.quadern-sidebar .breadcrumb-button:hover:not(:disabled){background-color:var(--color-surface-dark);color:var(--color-text)}.quadern-sidebar .breadcrumb-button:disabled{color:var(--color-text)}.quadern-sidebar .breadcrumb-separator{color:var(--color-text-muted)}.quadern-sidebar .badge{border:1px solid var(--color-border)}.quadern-sidebar .tree-list,.quadern-sidebar .tree-item,.quadern-sidebar .tree-header-item,.quadern-sidebar .header-title-container{width:100%}.sidebar-section{padding:14px;border:1px solid var(--color-border);border-radius:var(--border-radius);background:var(--color-surface);margin-bottom:12px}.sidebar-section:last-child{border-bottom:none}.sidebar-section h3{margin:0 0 10px 0;font-size:0.9rem;font-weight:600;color:var(--color-text);text-transform:uppercase;letter-spacing:0.05em}.view-nav{display:flex;flex-direction:column;gap:5px}.view-btn{display:flex;align-items:center;gap:10px;padding:10px 15px;background:transparent;border:1px solid var(--color-border);border-radius:var(--border-radius);color:var(--color-text);font-size:0.9rem;cursor:pointer;transition:color .15s ease, border-color .15s ease, background-color .15s ease;text-align:left;width:100%}.view-btn:hover{background:transparent;border-color:var(--quadern-accent);color:var(--quadern-accent)}.view-btn.active{background:transparent;border-color:var(--quadern-accent);color:var(--quadern-accent)}.view-btn i{font-size:1rem;width:16px;text-align:center}.nav-tree{font-size:0.9rem}.nav-tree-complete{font-size:0.9rem}.nav-loading{display:flex;flex-direction:column;align-items:center;padding:30px 20px;color:var(--color-text-muted)}.loading-spinner{width:24px;height:24px;border:2px solid var(--color-border);border-top:2px solid var(--quadern-accent);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:15px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.nav-empty,.nav-error{display:flex;flex-direction:column;align-items:center;padding:30px 20px;color:var(--color-text-muted);text-align:center}.nav-empty i,.nav-error i{font-size:2rem;margin-bottom:15px;opacity:0.5}.nav-error{color:var(--quadern-danger)}.nav-unit{margin-bottom:8px;border-radius:var(--border-radius);overflow:hidden;transition:all 0.3s ease}.nav-unit.has-notes{background:rgba(16,185,129,0.05);border-left:3px solid var(--quadern-success)}.nav-unit-header{display:flex;align-items:center;padding:12px 15px;cursor:pointer;transition:all 0.3s ease;color:var(--color-text);background:var(--color-surface-light);border:1px solid var(--color-border)}.nav-unit-header:hover{background:rgba(52,152,219,0.08);border-color:var(--quadern-accent)}.nav-unit.expanded .nav-unit-header{background:var(--quadern-accent);color:white;border-color:var(--quadern-accent)}.nav-unit-title{flex:1;font-weight:600;font-size:0.9rem;margin-left:8px}.nav-unit-content{padding-left:20px;background:var(--color-background);border-left:1px solid var(--color-border);max-height:0;overflow:hidden;transition:max-height 0.4s ease, padding 0.4s ease;opacity:0}.nav-unit.expanded .nav-unit-content{max-height:2000px !important;padding:10px 0 10px 20px !important;opacity:1 !important}.nav-block{margin-bottom:6px;border-radius:var(--border-radius);overflow:hidden}.nav-block.has-notes{background:rgba(52,152,219,0.05);border-left:2px solid var(--quadern-accent)}.nav-block-header{display:flex;align-items:center;padding:10px 15px;cursor:pointer;transition:all 0.3s ease;color:var(--color-text);background:var(--color-surface);border:1px solid var(--color-border-light)}.nav-block-header:hover{background:rgba(52,152,219,0.06);border-color:var(--quadern-accent)}.nav-block.expanded .nav-block-header{background:rgba(52,152,219,0.15);color:var(--quadern-accent);border-color:var(--quadern-accent)}.nav-block-title{flex:1;font-weight:500;font-size:0.85rem;margin-left:8px}.nav-block-content{padding-left:15px;background:var(--color-background);max-height:0;overflow:hidden;transition:max-height 0.3s ease, padding 0.3s ease, opacity 0.3s ease;opacity:0}.nav-block.expanded .nav-block-content{max-height:1500px !important;padding:8px 0 8px 15px !important;opacity:1 !important}.nav-section{margin-bottom:3px;border-radius:var(--border-radius);transition:all 0.3s ease}.nav-section.has-notes{background:rgba(16,185,129,0.08)}.nav-section.selected{background:rgba(52,152,219,0.15);border:1px solid var(--quadern-accent)}.nav-section.selected .nav-section-content{background:rgba(52,152,219,0.1);border-color:var(--quadern-accent)}.nav-section-content{display:flex;align-items:center;padding:8px 12px;cursor:pointer;transition:all 0.3s ease;color:var(--color-text);border:1px solid transparent}.nav-section:hover .nav-section-content{background:rgba(52,152,219,0.1);border-color:rgba(52,152,219,0.3)}.nav-section-title{flex:1;font-size:0.8rem;margin-left:8px;line-height:1.3}.nav-section-actions{display:flex;align-items:center;gap:8px;opacity:0;transition:opacity 0.3s ease}.nav-section:hover .nav-section-actions,.nav-section.has-notes .nav-section-actions{opacity:1}.unit-icon{color:var(--quadern-accent);font-size:1rem}.block-icon{color:var(--color-primary-light);font-size:0.9rem}.section-icon{color:var(--color-text-muted);font-size:0.8rem}.nav-section.has-notes .section-icon{color:var(--quadern-success)}.nav-toggle{font-size:12px;color:var(--color-text-muted);transition:transform 0.3s ease;margin-right:5px}.nav-unit.expanded .nav-toggle,.nav-block.expanded .nav-toggle{transform:rotate(90deg)}.nav-badges{display:flex;align-items:center;gap:6px}.note-badge,.section-badge,.loading-badge{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:2px 6px;font-size:0.7rem;font-weight:600;border-radius:9px;line-height:1}.note-badge{background:var(--quadern-success);color:white}.section-badge{background:var(--color-primary);color:white}.loading-badge{background:var(--quadern-warning);color:white;animation:pulse 2s infinite}@keyframes pulse{0%, 100%{opacity:1}50%{opacity:0.5}}.note-count{font-size:0.7rem;color:var(--quadern-success);font-weight:600}.nav-loading-sections,.nav-no-sections{display:flex;align-items:center;gap:8px;padding:8px 15px;color:var(--color-text-muted);font-size:0.75rem;font-style:italic}.nav-link-external{color:var(--quadern-accent);text-decoration:none;font-size:0.7rem;margin-left:auto}.nav-link-external:hover{text-decoration:underline}.btn-add-note{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border:none;background:var(--quadern-accent);color:white;border-radius:50%;cursor:pointer;transition:all 0.3s ease;font-size:0.7rem}.btn-add-note:hover{background:var(--quadern-accent-hover);transform:scale(1.1)}.btn-add-note:active{transform:scale(0.95)}.tree-item{margin-bottom:2px}.tree-item-header{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;cursor:pointer;border-radius:4px;transition:all 0.3s ease;color:var(--color-text)}.tree-item-header:hover{background:rgba(255,255,255,0.05)}.tree-item-header.active{background:var(--quadern-accent);color:white}.tree-children{padding-left:20px;max-height:0;overflow:hidden;transition:max-height 0.3s ease}.tree-children.expanded{max-height:500px}.tree-arrow{transition:transform 0.3s ease;font-size:12px}.tree-arrow.expanded{transform:rotate(90deg)}.quadern-main{flex:1;padding:8px 0 0;overflow:hidden;background:var(--color-background);margin-left:calc(var(--quadern-sidebar-width) + 24px)}.quadern-footer{position:fixed;bottom:0;left:0;right:0;z-index:1000;height:var(--quadern-footer-height);background:var(--color-surface);border-top:1px solid var(--color-border);padding:0 12px;font-size:0.8rem;display:flex;align-items:center;width:100vw;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw)}.footer-content{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:8px;width:100%;height:100%}.footer-left{justify-self:start}.footer-center{justify-self:center}.footer-right{justify-self:end}.stats-container{display:flex;gap:14px}.stat-item{display:inline-flex;align-items:center;gap:6px;color:var(--color-text-muted);line-height:1}.stat-item i{font-size:0.95rem;display:inline-flex;align-items:center}.footer-version{color:var(--color-text-muted);font-size:0.75rem}.footer-actions{display:flex;align-items:center;gap:8px}.footer-icon-btn{width:28px;height:28px;border-radius:6px;display:inline-flex;align-items:center;justify-content:center;background-color:var(--color-surface-dark);border:1px solid var(--color-border);color:var(--color-text);cursor:pointer}.footer-icon-btn:hover{background-color:transparent;border-color:var(--quadern-accent);color:var(--quadern-accent)}.quadern-layout[data-theme='dark'] .footer-icon-btn:hover{background-color:#444;border-color:#666;color:var(--color-text)}@media (max-width: 900px){.quadern-body{flex-direction:column;gap:12px;padding:12px}.quadern-sidebar{display:none}.quadern-main{padding-top:0;margin-left:0}}.quadern-layout[data-theme='dark']{scrollbar-color:#555 #2c2c2c}.quadern-layout[data-theme='dark'] ::-webkit-scrollbar{width:10px;height:10px}.quadern-layout[data-theme='dark'] ::-webkit-scrollbar-track{background:#2c2c2c}.quadern-layout[data-theme='dark'] ::-webkit-scrollbar-thumb{background:#555;border-radius:6px;border:2px solid #2c2c2c}.quadern-layout[data-theme='dark'] ::-webkit-scrollbar-thumb:hover{background:#666}.view{display:none;animation:fadeIn 0.3s ease}.view.active{display:block}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.view-header{margin-bottom:30px;text-align:center}.view-header h2{margin:0 0 8px 0;color:var(--color-text);font-size:2rem;font-weight:600}.view-header p{margin:0;color:var(--color-text-muted);font-size:1.1rem}.btn{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:1px solid var(--color-border);border-radius:6px;font-size:0.9rem;font-weight:500;cursor:pointer;transition:color .15s ease, border-color .15s ease, background-color .15s ease;text-decoration:none}.btn-primary{background:transparent;color:var(--quadern-accent);border-color:var(--quadern-accent)}.btn-primary:hover{background:transparent}.btn-outline{background:transparent;color:var(--color-text);border:1px solid var(--color-border)}.btn-outline:hover{border-color:var(--quadern-accent);color:var(--quadern-accent)}.btn-icon{padding:6px;background:transparent;border:1px solid var(--color-border);color:var(--color-text);cursor:pointer;border-radius:4px;transition:color .15s ease, border-color .15s ease, background-color .15s ease}.btn-icon:hover{background:transparent;border-color:var(--quadern-accent);color:var(--quadern-accent)}.save-btn{background:transparent;color:var(--quadern-accent);border:1px solid var(--quadern-accent);padding:12px 24px;border-radius:6px;font-weight:600;cursor:pointer;transition:color .15s ease, border-color .15s ease, background-color .15s ease;box-shadow:none}.save-btn:hover{background:transparent}.empty-state{text-align:center;padding:40px 20px;color:var(--color-text-muted)}.empty-state i{font-size:3rem;color:var(--color-text-muted);margin-bottom:15px}.empty-state h3{margin:0 0 8px 0;color:var(--color-text);font-weight:600}.empty-state p{margin:0;line-height:1.5}.loading-state{text-align:center;padding:30px 20px;color:var(--color-text-muted)}.modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;z-index:2000;animation:fadeIn 0.3s ease}.modal.active{display:flex;align-items:center;justify-content:center}.modal-content{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);width:90%;max-width:500px;max-height:80vh;overflow-y:auto;position:relative;z-index:1;animation:slideUp 0.3s ease;box-shadow:var(--shadow-medium)}@keyframes slideUp{from{transform:translateY(30px) scale(0.9);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;border-bottom:1px solid var(--color-border);background:var(--color-surface-dark)}.modal-header h3{margin:0;color:var(--color-text);font-weight:600}.modal-close{background:none;border:none;color:var(--color-text);font-size:1.2rem;cursor:pointer;padding:4px;border-radius:4px}.modal-close:hover{background:rgba(255,255,255,0.1)}.modal-body{padding:25px}.modal-footer{display:flex;justify-content:flex-end;gap:10px;padding:20px 25px;border-top:1px solid var(--color-border);background:var(--color-surface-dark)}.modal .btn{background:transparent;border:1px solid var(--color-border);color:var(--color-text);transition:color .15s ease, border-color .15s ease, background-color .15s ease}.modal .btn:hover{background:transparent;border-color:var(--quadern-accent);color:var(--quadern-accent)}.modal .btn:active{transform:none}.modal .btn-primary{background:transparent;border:1px solid var(--quadern-accent);color:var(--quadern-accent)}.modal .btn-primary:hover{background:transparent;border-color:var(--quadern-accent);color:var(--quadern-accent)}.modal .btn-outline{background:transparent;border:1px solid var(--color-border);color:var(--color-text)}.modal .btn-outline:hover{background:transparent;border-color:var(--quadern-accent);color:var(--quadern-accent)}.filter-modal{display:flex;flex-direction:column;gap:12px}.filter-modal .input-search{width:100%;padding:10px 12px;border:1px solid var(--color-border);background:var(--color-background);color:var(--color-text);border-radius:10px;font-size:0.98rem}.filter-modal .input-search:focus{outline:none;border-color:var(--quadern-accent);box-shadow:0 0 0 3px rgba(59,130,246,0.12)}.quadern-layout[data-theme='dark'] .filter-modal .input-search:focus{border-color:var(--color-border);box-shadow:0 0 0 3px rgba(255,255,255,0.08)}.filter-modal .filter-tags{max-height:260px;overflow:auto;display:flex;flex-direction:column;gap:8px}.filter-modal .filter-row{display:flex;align-items:center;gap:10px;padding:6px 2px}.filter-modal .filter-checkbox{width:16px;height:16px;accent-color:var(--quadern-accent)}.filter-modal .tag-name{font-weight:500}.filter-modal .tag-count{margin-left:auto;opacity:.7;font-size:.85rem}.toast{position:fixed;bottom:30px;right:30px;background:var(--color-surface-dark);color:var(--color-text);border:1px solid var(--color-border);border-radius:var(--border-radius);padding:15px 20px;box-shadow:var(--shadow-heavy);z-index:1500;transform:translateX(400px);transition:transform 0.3s ease;max-width:400px}.toast.show{transform:translateX(0)}.toast-content{display:flex;align-items:center;gap:10px}.toast-icon{font-size:1.2rem}.toast-message{flex:1;font-size:0.9rem}.toast-close{background:none;border:none;color:var(--color-text);cursor:pointer;padding:2px;border-radius:3px}.toast-close:hover{background:rgba(255,255,255,0.1)}.toast.success .toast-icon{color:var(--quadern-success)}.toast.error .toast-icon{color:var(--quadern-danger)}.toast.warning .toast-icon{color:var(--quadern-warning)}.toast.info .toast-icon{color:var(--quadern-accent)}.nav-tree{font-family:'Inter', sans-serif;background-color:white;border-radius:0.75rem;border:1px solid #e2e8f0;display:flex;flex-direction:column;overflow:hidden;height:100%}.tree-content{padding:0.75rem;overflow-y:auto;flex-grow:1}.tree-list{list-style:none;padding:0;margin:0}.tree-header-item{display:flex;align-items:center;padding:0.6rem 0.75rem;margin-bottom:0.5rem}.header-title-container{display:flex;align-items:center;flex-wrap:nowrap;overflow:hidden}.header-title-container>.breadcrumb-button:first-child{padding-left:0}.breadcrumb-button{display:flex;align-items:center;background-color:transparent;border:none;cursor:pointer;padding:0.25rem 0.6rem;border-radius:0.5rem;transition:all 0.2s ease-in-out;font-size:1.125rem;font-weight:600;color:#4b5563;white-space:nowrap}.breadcrumb-button:hover:not(:disabled){background-color:#f1f5f9;color:#1e2b3b}.breadcrumb-button:disabled{color:#1e293b;cursor:default}.breadcrumb-button .item-icon{margin-right:0.35rem}.breadcrumb-button:disabled .item-icon{color:#1e293b}.breadcrumb-separator{margin:0 0.35rem;color:#9ca3af;font-size:0.9rem;font-weight:600}.tree-item{display:flex;align-items:center;padding:0.6rem 0.75rem;border-radius:0.5rem;cursor:pointer;transition:background-color 0.2s ease, color 0.2s ease;margin-bottom:0.25rem}.tree-item:hover{background-color:#f1f5f9}.tree-item.active{background-color:#e2e8f0;color:#1e293b;font-weight:600}.tree-item.active .item-text{color:#1e293b}.tree-item.active .item-icon{color:#1e293b !important}.item-icon{margin-right:0.75rem;flex-shrink:0}.item-text{color:#334155}.badge{margin-left:0.5rem;font-size:0.75rem;font-weight:600;padding:0.125rem 0.5rem;border-radius:9999px;flex-shrink:0}.badge-green{background-color:#dcfce7;color:#166534}.badge-blue{background-color:#dbeafe;color:#1e40af}.tree-empty{text-align:center;color:#64748b;padding:1rem}.nav-loading,.nav-empty,.nav-error{padding:2rem 1rem;text-align:center;color:#64748b;font-size:0.875rem}.nav-error{color:#dc2626}.quadern-layout[data-theme='dark'] .nav-tree{background-color:var(--color-surface);border-color:var(--color-border)}.quadern-layout[data-theme='dark'] .tree-content{color:var(--color-text)}.quadern-layout[data-theme='dark'] .tree-item{color:var(--color-text)}.quadern-layout[data-theme='dark'] .tree-item:hover{background-color:var(--color-surface-dark)}.quadern-layout[data-theme='dark'] .tree-item .item-text{color:var(--color-text)}.quadern-layout[data-theme='dark'] .tree-item .item-icon{color:var(--color-text-muted)}.quadern-layout[data-theme='dark'] .tree-item.active{background-color:var(--color-surface-dark);color:var(--color-text);font-weight:600;border:1px solid var(--color-border)}.quadern-layout[data-theme='dark'] .tree-item.active .item-text{color:var(--color-text)}.quadern-layout[data-theme='dark'] .tree-item.active .item-icon{color:#e6edf3 !important}.quadern-layout[data-theme='dark'] .breadcrumb-button{color:var(--color-text)}.quadern-layout[data-theme='dark'] .breadcrumb-button:hover:not(:disabled){background-color:var(--color-surface-dark);color:var(--color-text)}.quadern-layout[data-theme='dark'] .breadcrumb-button:disabled{color:var(--color-text)}.quadern-layout[data-theme='dark'] .breadcrumb-separator{color:var(--color-text-muted)}.quadern-layout[data-theme='dark'] .badge{border:1px solid rgba(255,255,255,0.12)}.quadern-layout[data-theme='dark'] .badge-blue{background-color:#3a3a3a;color:#e6edf3}.quadern-layout[data-theme='dark'] .badge-green{background-color:#3a3a3a;color:#e6edf3}#dashboard-view{height:calc(100vh - var(--quadern-header-height) - var(--quadern-footer-height) - 52px);overflow:hidden}.dashboard-container{max-width:none;width:100%;margin:0 auto;padding:16px 16px 0 0;height:100%;display:flex;flex-direction:column}.dash-header{display:flex;gap:14px;align-items:center;justify-content:space-between;margin-bottom:14px}.dash-header .dash-actions{display:flex;gap:8px;flex-shrink:0}.dash-header .dash-actions .btn.active{border-color:var(--quadern-accent);color:var(--quadern-accent);box-shadow:0 0 0 2px rgba(59,130,246,0.15) inset}.mode-toggle{display:inline-flex;align-items:center;gap:8px;padding:0 4px}.mode-toggle .label{color:var(--color-text);font-size:0.95rem}.mode-toggle .switch{position:relative;display:inline-block;width:44px;height:24px}.mode-toggle .switch input{opacity:0;width:0;height:0}.mode-toggle .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--color-border);transition:.2s;border-radius:999px;box-shadow:inset 0 0 0 1px var(--color-border)}.mode-toggle .slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;top:3px;background-color:var(--color-background);transition:.2s;border-radius:50%;box-shadow:0 1px 2px rgba(0,0,0,0.2)}.mode-toggle .switch input:checked+.slider{background-color:rgba(59,130,246,0.4);box-shadow:inset 0 0 0 1px var(--quadern-accent)}.quadern-layout[data-theme='dark'] .mode-toggle .switch input:checked+.slider{background-color:#555;box-shadow:inset 0 0 0 1px #777}.quadern-layout[data-theme='dark'] .mode-toggle .slider{background-color:#3a3a3a;box-shadow:inset 0 0 0 1px #555}.quadern-layout[data-theme='dark'] .mode-toggle .slider:before{background-color:#d1d5db}.quadern-layout[data-theme='dark'] .mode-toggle .switch input:checked+.slider:before{background-color:#ffffff}.mode-toggle .switch input:checked+.slider:before{transform:translateX(20px)}.search-wrapper{position:relative;flex:1}.search-wrapper .search-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--color-text-muted);font-size:1.2rem}.search-input{width:100%;padding:10px 44px 10px 36px;border:1px solid var(--color-border);background:var(--color-background);color:var(--color-text);border-radius:10px;font-size:0.98rem}.search-input:focus{outline:none;border-color:var(--quadern-accent);box-shadow:0 0 0 3px rgba(59,130,246,0.12)}.quadern-layout[data-theme='dark'] .search-input:focus{border-color:var(--color-border);box-shadow:0 0 0 3px rgba(255,255,255,0.08)}.search-clear{position:absolute;right:12px;top:50%;transform:translateY(-50%);display:none;align-items:center;justify-content:center;padding:0;background:transparent;border:none;color:var(--color-text-muted);cursor:pointer;z-index:2}.search-clear i{font-size:1.2rem}.search-clear:hover{color:var(--quadern-accent);background:transparent}.search-clear.visible{display:inline-flex}.tag-filters{display:flex;flex-wrap:wrap;gap:8px;padding:2px 0 10px;margin-bottom:14px;flex-shrink:0}.notes-timeline{position:relative;flex:1 1 auto;overflow:auto;padding:0 24px 0 0}.date-group:last-child{margin-bottom:0}.dashboard-grid{display:grid;gap:22px;margin:0 auto;max-width:1200px}@media (min-width: 1024px){.dashboard-grid{grid-template-columns:2fr 1fr;align-items:start}}.card{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);box-shadow:var(--shadow-light);transition:all 0.3s ease}.card-header{display:flex;align-items:center;gap:10px;padding:20px 20px 15px 20px;border-bottom:1px solid var(--color-border)}.card-header .card-actions{display:inline-flex;align-items:center;gap:8px}.btn-sm{padding:6px 10px;font-size:.85rem}.hide-sm{display:inline}@media (max-width: 640px){.hide-sm{display:none}}.card-header i{font-size:1.2rem;color:var(--quadern-accent)}.card-header h3{margin:0;font-size:1.1rem;font-weight:600;color:var(--color-text)}.card-body{padding:20px}.recent-notes-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));gap:14px}.note-card{background:var(--color-surface);border:1px solid var(--color-border);border-radius:12px;padding:16px;box-shadow:var(--shadow-light);transition:transform .2s, box-shadow .2s}.note-head{display:flex;justify-content:space-between;align-items:flex-start;gap:10px;margin-bottom:8px}.note-title{margin:0;font-weight:700;color:var(--color-text);font-size:1.15rem}.note-actions{display:inline-flex;gap:8px}.icon-btn{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid var(--color-border);background:var(--color-background);color:var(--color-text-muted);border-radius:8px;cursor:pointer}.icon-btn:hover{color:var(--color-text)}.icon-btn.danger:hover{border-color:var(--quadern-danger);color:var(--quadern-danger)}.note-content{color:var(--color-text);margin:8px 0;line-height:1.6;font-size:0.98rem;white-space:pre-line}.note-tags{display:flex;flex-wrap:wrap;gap:6px;margin:6px 0 8px}.note-footer{color:var(--color-text-muted);font-size:.85rem;margin-top:4px}.code-placeholder{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border:1px dashed var(--color-text-muted);border-radius:8px;background:var(--color-surface-dark);color:var(--color-text);font-size:0.85rem}.code-placeholder .label{font-weight:600}.date-group{margin-bottom:20px}.date-title{font-weight:600;color:var(--color-text);margin-bottom:10px;text-transform:none;letter-spacing:.2px}.date-notes{display:flex;flex-direction:column;gap:12px}.note-card{position:relative}.note-content{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;white-space:pre-line}.tag.note-tag{background:rgba(59,130,246,0.12);color:#1e40af;border-color:rgba(59,130,246,0.25)}.quadern-layout[data-theme='dark'] .tag.note-tag{background:#3a3a3a;color:var(--color-text);border-color:#555}.quick-actions{display:grid;grid-template-columns:repeat(2, 1fr);gap:15px}.action-btn{display:flex;flex-direction:column;align-items:center;gap:8px;padding:20px 15px;background:var(--color-background);border:2px solid var(--color-border);border-radius:var(--border-radius);color:var(--color-text);font-size:0.9rem;font-weight:500;cursor:pointer;transition:all 0.3s ease}.action-btn:hover{border-color:var(--quadern-accent);background:var(--quadern-accent);color:white}.action-btn i{font-size:1.5rem}.stats-grid{display:flex;flex-direction:column;gap:12px}.stat{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.stat-label{color:var(--color-text-muted);font-size:0.9rem}.stat-value{color:var(--color-text);font-weight:600}.tags-container{display:flex;flex-wrap:wrap;gap:8px}.tags-search{margin-bottom:10px}.tags-search .input{width:100%}.tags-cloud{display:flex;flex-wrap:wrap;gap:8px}.tag,.tag-item{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;background:var(--color-surface-dark);color:var(--color-text);border:1px solid var(--color-border);border-radius:999px;font-size:0.9rem;cursor:pointer;transition:all 0.2s ease;text-decoration:none}.tag:hover,.tag-item:hover{background:var(--quadern-accent);color:white;border-color:var(--quadern-accent)}.quadern-layout[data-theme='dark'] .tag:hover,.quadern-layout[data-theme='dark'] .tag-item:hover{background:#4a4a4a;border-color:#666;color:var(--color-text)}.tag-count{background:rgba(255,255,255,0.2);padding:2px 6px;border-radius:10px;font-size:0.75rem;font-weight:600;min-width:18px;text-align:center}.tag.active,.tag-item.active{background:var(--quadern-accent);color:white}.quadern-layout[data-theme='dark'] .tag.active,.quadern-layout[data-theme='dark'] .tag-item.active{background:#5a5a5a;border-color:#777;color:var(--color-text)}.editor-container{display:flex;gap:20px;align-items:stretch;min-height:0;height:calc(100vh - var(--quadern-header-height) - var(--quadern-footer-height) - 40px);box-sizing:border-box;overflow:hidden}.editor-single{width:100%}.editor-main{flex:1;min-width:480px;display:flex;flex-direction:column;min-height:0}.editor-header{display:flex;align-items:center;justify-content:space-between;padding:14px 0;background:transparent;border:none;margin-bottom:14px}.exit-editor-btn{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;background:transparent;border:1px solid var(--color-border);border-radius:10px;color:var(--color-text);font-size:0.95rem;font-weight:500;cursor:pointer;transition:all 0.15s ease}.exit-editor-btn:hover{border-color:var(--quadern-accent);color:var(--quadern-accent)}.quadern-layout[data-theme='dark'] .exit-editor-btn:hover{background:#444;border-color:#666;color:var(--color-text)}.exit-editor-btn i{font-size:0.9rem}.editor-breadcrumb{display:flex;align-items:center;gap:8px;font-size:0.9rem}.crumb-link{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--color-text-muted);font-weight:500;cursor:pointer;transition:all 0.15s ease;text-decoration:none}.crumb-link:hover{background:var(--color-surface-dark);border-color:var(--color-border);color:var(--color-text)}.crumb-link i{font-size:0.9rem}.crumb-separator{font-size:0.7rem;color:var(--color-text-muted);opacity:0.5;margin:0 2px}.crumb-current{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;background:rgba(59,130,246,0.08);border-radius:8px;color:var(--quadern-accent);font-weight:600}.quadern-layout[data-theme='dark'] .crumb-current{background:var(--color-surface-dark);color:var(--color-text);border:1px solid var(--color-border)}.crumb-current i{font-size:0.9rem}.editor-form{display:flex;flex-direction:column;gap:10px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);padding:14px;flex:1 1 auto;min-height:0}.editor-form input,.editor-form select{width:100%;padding:8px 12px;border:1px solid var(--color-border);border-radius:4px;background:var(--color-background);color:var(--color-text);font-size:1rem}.note-select-row{display:flex;align-items:center;gap:8px}.note-select-row #note-select{flex:1 1 auto}.inline-edit-btn,.inline-confirm-btn{flex:0 0 auto;width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center;border:1px solid var(--color-border);border-radius:6px;background:var(--color-surface);color:var(--color-text-muted);cursor:pointer}.inline-edit-btn:hover,.inline-confirm-btn:hover{color:var(--color-text);background:var(--color-surface-dark)}.inline-confirm-btn{display:none}.note-select-row.editing .inline-edit-btn{display:none}.note-select-row.editing .inline-confirm-btn{display:inline-flex;border-color:var(--quadern-accent);color:var(--color-text)}.note-select-row input#note-title-inline{flex:1 1 auto}#qre-editor{flex:1 1 auto;min-height:320px;display:flex;min-height:0}.qre{display:flex;flex:1 1 auto;min-height:0;width:100%}.qre .panel{display:flex;flex-direction:column;flex:1 1 auto;min-height:0;width:100%}.qre .panel .head{flex:0 0 auto;display:flex;align-items:center;gap:8px;width:100%}.qre .panel .head .fields{display:flex;gap:8px;flex:1 1 auto;min-width:0}.qre .panel .head .fields:empty{display:none}.qre .panel .head .fields input,.qre .panel .head .fields select{flex:1 1 auto;width:100%}.qre .panel .head .actions{flex:0 0 auto;margin-left:auto;display:flex;align-items:center;gap:8px}.qre .panel .head .actions .status,#qre-editor .panel .head .status{color:var(--color-text-muted);font-size:0.9rem;padding:2px 10px;border:1px solid var(--color-border);border-radius:999px;background:var(--color-surface-dark)}.qre .panel .head .actions .status:empty,#qre-editor .panel .head .status:empty{display:none}#qre-editor .panel .head{width:100%}#qre-editor .panel .head .status{margin-right:8px;flex:0 0 auto}#qre-editor .panel .head .fields{flex:1 1 auto}#qre-editor .panel .head .actions{flex:0 0 auto;margin-left:auto}.qre .panel .editor{display:flex;flex-direction:column;flex:1 1 auto;min-height:0}.qre .panel .editor .ql-toolbar{flex:0 0 auto}.qre .panel .editor .ql-container{flex:1 1 auto;min-height:0;height:auto}.qre .panel .editor .ql-editor{height:100%}.visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important}#notes-list{margin-top:16px}.import-export-container{display:grid;grid-template-columns:repeat(auto-fit, minmax(400px, 1fr));gap:30px}.upload-area{border:2px dashed var(--color-border);border-radius:var(--border-radius);padding:40px 20px;text-align:center;cursor:pointer;transition:all 0.3s ease;position:relative}.upload-area:hover{border-color:var(--quadern-accent);background:rgba(52,152,219,0.05)}.upload-area.dragover{border-color:var(--quadern-accent);background:rgba(52,152,219,0.1);transform:scale(1.02)}.upload-icon{font-size:3rem;color:var(--quadern-accent);margin-bottom:15px}.upload-area h4{margin:0 0 8px 0;color:var(--color-text);font-weight:600}.upload-area p{margin:0;color:var(--color-text-muted)}.upload-area input[type="file"]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.import-options{margin:20px 0}.checkbox-label{display:flex;align-items:center;gap:8px;margin-bottom:10px;cursor:pointer;font-size:0.9rem;color:var(--color-text)}.checkbox-label input[type="checkbox"]{width:16px;height:16px}.export-options{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:20px;margin-bottom:25px}.export-option{text-align:center;padding:20px;border:1px solid var(--color-border);border-radius:var(--border-radius);background:var(--color-background);transition:all 0.3s ease}.export-option:hover{border-color:var(--quadern-accent);transform:translateY(-2px)}.export-option i{font-size:2.5rem;color:var(--quadern-accent);margin-bottom:10px}.export-option h4{margin:0 0 8px 0;color:var(--color-text);font-weight:600}.export-option p{margin:0 0 15px 0;color:var(--color-text-muted);font-size:0.85rem}.export-settings{margin-top:25px;padding-top:20px;border-top:1px solid var(--color-border)}.export-settings h4{margin:0 0 15px 0;color:var(--color-text);font-weight:600}.section-header{text-align:center;margin-bottom:30px}.section-header h2{color:var(--color-text);margin-bottom:10px;display:flex;align-items:center;justify-content:center;gap:10px}.section-header p{color:var(--color-text-muted);max-width:500px;margin:0 auto}.backup-stats{display:flex;justify-content:center;gap:40px;margin-bottom:30px}.stat-item{display:flex;align-items:center;gap:12px;padding:15px 20px;background:var(--color-card-background);border-radius:var(--border-radius);border:1px solid var(--color-border)}.stat-item i{font-size:1.5rem;color:var(--quadern-accent)}.stat-info{display:flex;flex-direction:column;gap:2px}.stat-number{font-size:1.2rem;font-weight:600;color:var(--color-text)}.stat-label{font-size:0.85rem;color:var(--color-text-muted)}.export-actions{text-align:center}.export-actions .btn{padding:12px 24px;font-size:1rem;gap:8px}.help-text{margin-top:20px;color:var(--color-text-muted);font-size:0.9rem;max-width:600px;margin-left:auto;margin-right:auto;line-height:1.5}@media (max-width: 600px){.backup-stats{flex-direction:column;gap:15px}.stat-item{justify-content:center}}.study-container{position:relative;height:calc(100vh - var(--quadern-header-height) - var(--quadern-footer-height) - 60px);padding:20px}.study-content{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);display:flex;flex-direction:column;height:100%}.study-header{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;border-bottom:1px solid var(--color-border);background:var(--color-surface-dark)}.study-header h2{margin:0;color:var(--color-text);font-size:1.4rem;font-weight:600}.study-controls{display:flex;gap:10px}.study-body{flex:1;padding:24px;overflow-y:auto;line-height:1.7;font-size:var(--study-font-size, 1rem)}.study-course{max-width:1000px;margin:0 auto}.study-course-header{text-align:center;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--color-border);position:relative}.study-course-header h1{font-size:2.5rem;font-weight:700;color:var(--quadern-accent);margin:0 0 10px 0}.course-meta{color:var(--color-text-muted);font-size:1.1rem;margin:0}.study-course-header .study-tools{position:absolute;right:0;bottom:12px;display:flex;gap:8px}.study-course-header .icon-btn{width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;border:1px solid var(--color-border);border-radius:8px;background:var(--color-surface);color:var(--color-text)}.study-course-header .icon-btn:hover{background:var(--color-border)}.study-units{display:flex;flex-direction:column;gap:40px}.study-unit{background:var(--color-surface);border:1px solid var(--color-border);border-radius:12px;overflow:hidden}.study-unit-header{background:var(--quadern-accent);color:white;padding:14px 18px;display:flex;align-items:center;gap:10px}.study-unit-header .caret{opacity:0.9;transform:rotate(0deg);transition:transform .2s ease}.study-unit-header h2{margin:0;font-size:1.4rem;font-weight:700}.study-unit-content{padding:24px}.study-block{margin-bottom:30px}.study-block:last-child{margin-bottom:0}.study-block-header{margin-bottom:12px;padding:8px 4px;border-bottom:1px solid var(--color-border);display:flex;align-items:center;gap:8px;cursor:pointer}.study-block-header .caret{color:var(--color-text-muted);transform:rotate(0deg);transition:transform .2s ease}.study-block-header h3{margin:0;font-size:1.1rem;font-weight:600;color:var(--color-text)}.study-block-content{display:flex;flex-direction:column;gap:24px}.study-section{margin-bottom:20px}.study-section-header{margin-bottom:12px;cursor:pointer;display:flex;align-items:center;gap:8px}.study-section-header .caret{color:var(--color-text-muted);transform:rotate(0deg);transition:transform .2s ease}.study-section-header .title-wrap{display:flex;align-items:center;gap:8px}.study-section-header .title-wrap .count{display:inline-flex;min-width:22px;height:22px;align-items:center;justify-content:center;padding:0 6px;font-size:.8rem;border-radius:999px;background:var(--color-surface-dark);color:var(--color-text-muted)}.study-section-header h4{margin:0;font-size:1.05rem;font-weight:600;color:var(--quadern-accent)}.section-meta{color:var(--color-text-muted);font-size:0.9rem;margin:0}.study-notes{display:flex;flex-direction:column;gap:30px}.study-unit.collapsed .study-unit-content,.study-block.collapsed .study-block-content,.study-section.collapsed .study-notes{display:none}.study-doc{max-width:none;width:100%;margin:0}.study-doc .doc-h1{font-size:1.6rem;font-weight:700;color:var(--quadern-accent);margin:8px 0 4px;background:rgba(59,130,246,0.08);padding:8px 12px;border-radius:8px}.quadern-layout[data-theme='dark'] .study-doc .doc-h1{color:var(--color-text);background:var(--color-surface-dark)}.study-doc .doc-h2{font-size:1.25rem;font-weight:600;color:var(--color-text);margin:6px 0 4px;background:var(--color-surface-dark);padding:6px 10px;border-radius:6px}.study-doc .doc-h3{font-size:1.05rem;font-weight:600;color:var(--color-text-muted);margin:4px 0 2px;padding:4px 8px;background:rgba(148,163,184,0.06);border-radius:4px;font-style:italic}.study-doc .doc-note{margin:4px 0 8px}.study-doc .doc-note pre{border:1px solid var(--color-border);border-radius:8px;padding:10px 12px;background:var(--code-bg)}.study-doc .doc-note{position:relative;padding-left:34px}.study-doc .study-reorder{position:absolute;left:6px;top:0;display:inline-flex;flex-direction:column;gap:4px;opacity:0;pointer-events:none;transition:opacity .15s ease}.study-doc .doc-note:hover .study-reorder{opacity:1;pointer-events:auto}.study-doc .study-reorder .reorder-btn{width:24px;height:24px;display:inline-flex;align-items:center;justify-content:center;border:none;background:transparent;color:var(--color-text-muted);border-radius:6px;cursor:pointer}.study-doc .study-reorder .reorder-btn:hover{color:var(--color-text);background:var(--color-surface-dark)}.study-doc .study-reorder .reorder-btn i{font-size:1rem;line-height:1}.study-doc .doc-note .doc-note-header{display:flex;align-items:center;gap:8px;margin:4px 0 8px}.study-doc .doc-note .doc-note-number{font-weight:600;color:var(--color-text-muted);margin-right:6px}.study-doc .doc-note .doc-note-title{font-weight:600;font-size:1.05rem;color:var(--color-text)}.study-doc .doc-note .doc-note-actions{margin-left:auto;display:inline-flex;gap:6px;opacity:0;pointer-events:none;transition:opacity .15s ease}.study-doc .doc-note:hover .doc-note-actions{opacity:1;pointer-events:auto}.study-doc .doc-note .doc-note-actions .icon-btn{width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;border-radius:6px;border:1px solid var(--color-border);background:var(--color-surface);color:var(--color-text-muted);cursor:pointer}.study-doc .doc-note .doc-note-actions .icon-btn:hover{color:var(--color-text);background:var(--color-surface-dark)}.study-doc .doc-note ul,.study-doc .doc-note ol{margin:12px 0 12px 24px;padding-left:24px}.study-doc .doc-note ul{list-style:disc outside}.study-doc .doc-note ol{list-style:decimal outside}.study-doc .doc-note li{margin:4px 0}.study-doc .doc-note ul ul{list-style:circle}.study-doc .doc-note ul ul ul{list-style:square}.study-doc .doc-note li.ql-indent-1{margin-left:2em}.study-doc .doc-note li.ql-indent-2{margin-left:4em}.study-doc .doc-note li.ql-indent-3{margin-left:6em}.study-doc .doc-note li.ql-indent-4{margin-left:8em}.study-doc .doc-note li.ql-indent-5{margin-left:10em}.content-item{display:flex;align-items:flex-start;padding:4px 0;width:100%}.content-item>div:last-child{flex:1;width:100%;min-width:0;margin-right:24px}.controls-spacer{width:1.5rem;flex-shrink:0}.note-controls{width:1.5rem;flex-shrink:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:0.25rem;opacity:0;transition:opacity 0.2s ease-in-out;padding-top:2rem}.content-item:hover .note-controls{opacity:1}.move-btn{background:transparent;border:none;cursor:pointer;color:#9ca3af;transition:color 0.2s ease;display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px}.move-btn:hover:not(:disabled){color:#3b82f6}.move-btn:disabled{color:#e5e7eb;cursor:not-allowed}.note-content{color:#6b7280;font-size:0.875rem;margin-top:0.25rem;line-height:1.5}.content-item pre{border:1px solid var(--color-border);border-radius:8px;padding:10px 12px;background:var(--code-bg);width:100%;max-width:100%;box-sizing:border-box;overflow-x:auto;margin:16px 0}.content-item ul,.content-item ol{margin:12px 0 12px 24px;padding-left:24px}.content-item ul{list-style:disc outside}.content-item ol{list-style:decimal outside}.content-item li{margin:4px 0}.content-item ul ul{list-style:circle}.content-item ul ul ul{list-style:square}.content-item li.ql-indent-1{margin-left:2em}.content-item li.ql-indent-2{margin-left:4em}.content-item li.ql-indent-3{margin-left:6em}.content-item li.ql-indent-4{margin-left:8em}.content-item li.ql-indent-5{margin-left:10em}.content-item p{margin-bottom:16px}.content-item h1,.content-item h2,.content-item h3,.content-item h4,.content-item h5,.content-item h6{margin:20px 0 12px 0;color:var(--color-text)}.content-item blockquote{border-left:4px solid var(--quadern-accent);padding-left:16px;margin:16px 0;background:rgba(52,152,219,0.05);padding:16px;border-radius:8px}.content-item code{background:var(--color-surface-dark);padding:2px 6px;border-radius:4px;font-family:var(--font-family-mono);font-size:0.9em}.content-item .doc-note-header{margin:4px 0 8px;width:100%}.content-item .doc-note-number{font-weight:600;color:var(--color-text-muted);margin-right:6px}.content-item .doc-note-title{font-weight:600;font-size:1.05rem;color:var(--color-text);background:rgba(148,163,184,0.05);padding:4px 8px;border-radius:4px;flex:1}.study-unit.collapsed .caret,.study-block.collapsed .caret,.study-section.collapsed .caret{transform:rotate(-90deg)}.study-note{background:var(--color-surface);border-left:3px solid var(--quadern-accent);border-radius:10px;padding:16px;transition:background 0.2s ease}.study-note:hover{background:var(--color-surface-dark)}.study-note-header{display:flex;align-items:flex-start;gap:16px;margin-bottom:16px}.study-note-number{flex-shrink:0;width:32px;height:32px;background:var(--quadern-accent);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:0.9rem}.study-note-meta{flex:1}.study-note-title{font-size:1.3rem;font-weight:600;color:var(--color-text);margin:0 0 8px 0}.study-note-info{display:flex;flex-wrap:wrap;align-items:center;gap:12px}.study-date{color:var(--color-text-muted);font-size:0.9rem}.study-tag{background:rgba(52,152,219,0.1);color:var(--quadern-accent);padding:4px 8px;border-radius:12px;font-size:0.8rem;font-weight:500}.study-note-content{color:var(--color-text);font-size:1rem;line-height:1.7}.study-note-content p{margin-bottom:16px}.study-note-content h1,.study-note-content h2,.study-note-content h3,.study-note-content h4,.study-note-content h5,.study-note-content h6{margin:20px 0 12px 0;color:var(--color-text)}.study-note-content ul,.study-note-content ol{margin:12px 0 12px 20px}.study-note-content blockquote{border-left:4px solid var(--quadern-accent);padding-left:16px;margin:16px 0;background:rgba(52,152,219,0.05);padding:16px;border-radius:8px}.study-note-content code{background:var(--color-surface-dark);padding:2px 6px;border-radius:4px;font-family:var(--font-family-mono);font-size:0.9em}.study-note-content pre{background:var(--color-surface-dark);padding:16px;border-radius:8px;overflow-x:auto;margin:16px 0}.study-unit{margin-bottom:50px}.study-unit h1{font-size:2rem;color:var(--quadern-accent);margin-bottom:20px;padding-bottom:10px;border-bottom:3px solid var(--quadern-accent)}.quadern-layout[data-theme='dark'] .study-unit h1{color:var(--color-text);border-bottom-color:var(--color-border)}.study-block{margin-bottom:40px}.study-block h2{font-size:1.5rem;color:var(--color-text);margin:30px 0 20px 0;padding-bottom:8px;border-bottom:1px solid var(--color-border)}.study-section{margin-bottom:30px}.study-section h3{font-size:1.2rem;color:var(--color-text);margin:25px 0 15px 0;font-weight:600}.study-note{background:var(--color-background);padding:20px;border-radius:var(--border-radius);border-left:4px solid var(--quadern-accent);margin-bottom:15px;box-shadow:var(--shadow-light)}.back-to-top{position:fixed;bottom:30px;right:30px;width:50px;height:50px;background:var(--quadern-accent);color:white;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:var(--shadow-medium);transition:all 0.3s ease;opacity:0;visibility:hidden;transform:translateY(20px)}.back-to-top.visible{opacity:1;visibility:visible;transform:translateY(0)}.back-to-top:hover{background:var(--quadern-accent-hover);transform:translateY(-5px);box-shadow:var(--shadow-heavy)}.qnp-panel{position:fixed;left:0;right:0;bottom:0;background:var(--color-surface);border-top:1px solid var(--color-border);box-shadow:0 -4px 10px rgba(0,0,0,0.08);max-height:35vh;display:none;z-index:1002;overflow:hidden}.qnp-inner{max-width:1100px;margin:0 auto;padding:8px 16px}.qnp-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}.qnp-title{font-weight:600;color:var(--color-text);display:flex;align-items:center;gap:8px}.qnp-actions{display:flex;align-items:center;gap:8px}.qnp-btn{background:var(--color-surface-dark);border:1px solid var(--color-border);color:var(--color-text);border-radius:6px;padding:6px 10px;cursor:pointer;transition:all 0.2s ease}.qnp-btn:hover{background:var(--color-surface-dark)}.qnp-primary{background:var(--color-primary);color:white;border-color:var(--color-primary)}.qnp-primary:hover{background:var(--color-primary-dark)}.qnp-editor-actions .qnp-btn.btn.btn-primary{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;font-size:0.9rem;font-weight:500}.qnp-editor-actions .qnp-btn[data-action="save"],.qnp-new-note-btn[data-action="clear"]{background:var(--quadern-accent-hover) !important;border-color:var(--color-border) !important;color:var(--color-text-muted) !important}.qnp-editor-actions .qnp-btn[data-action="save"]:hover,.qnp-new-note-btn[data-action="clear"]:hover{background:var(--quadern-accent-hover) !important;border-color:var(--color-border) !important;color:var(--color-text-muted) !important;transform:none !important}.qnp-danger{color:var(--comp-error);border-color:var(--comp-error)}.qnp-body{display:flex;flex-direction:column;min-height:0;overflow:hidden}.qnp-row{margin-bottom:8px}#qnp-section,#qnp-title,#qnp-tags,#qnp-text{width:100%;border:1px solid var(--color-border);background:var(--color-background);color:var(--color-text);border-radius:6px;padding:8px}#qnp-text{min-height:140px;resize:vertical}.qnp-split{display:grid;grid-template-columns:320px 1fr;gap:12px;flex:1;min-height:0}.qnp-sidebar{display:flex;flex-direction:column;gap:8px;min-height:0;height:100%}.qnp-list{border:1px solid var(--color-border);border-radius:6px;padding:6px;background:var(--color-surface-dark);overflow-y:auto;flex:0 0 auto;max-height:196px}.qnp-editor{display:flex;flex-direction:column;min-height:0;flex:1}.qnp-item{background:var(--color-background);border:1px solid var(--color-border);border-radius:6px;padding:6px 8px;margin-bottom:6px;cursor:pointer}.qnp-item:hover{background:var(--color-surface)}.qnp-item:last-child{margin-bottom:0}.qnp-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2px;gap:8px}.qnp-item-title{font-weight:600;overflow:hidden;flex:1;white-space:nowrap;text-overflow:ellipsis;font-size:0.95rem;line-height:1.2}.qnp-item-title .qnp-item-time{color:var(--color-text-muted);font-weight:500;font-size:0.85em;margin-left:6px}.qnp-item-actions{display:flex;gap:2px;opacity:0;transition:opacity 0.2s ease}.qnp-item:hover .qnp-item-actions{opacity:1}.qnp-btn-icon{background:none;border:none;color:var(--color-text-muted);cursor:pointer;padding:1px;border-radius:3px;transition:all 0.2s ease}.qnp-btn-icon:hover{background:var(--color-surface-dark);color:var(--color-text)}.qnp-btn-delete:hover{color:var(--comp-error)}.qnp-item-meta{color:var(--color-text-muted);font-size:0.75rem;line-height:1.1}.qnp-item-tags{margin-top:4px;display:flex;flex-wrap:wrap;gap:4px}.qnp-tag{background:var(--color-surface);border:1px solid var(--color-border);color:var(--color-text);border-radius:9999px;padding:1px 6px;font-size:0.72rem}@media (max-width: 900px){.qnp-item-tags{display:none}}.qnp-editor .qnp-editor-actions{display:flex;gap:8px;margin-top:8px;justify-content:flex-end}.qnp-new-note-btn{width:100%;justify-content:center;display:inline-flex;align-items:center;gap:8px;padding:10px 16px;font-size:0.9rem;font-weight:500}.sr-only{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}.qnp-modal{position:fixed;top:0;left:0;right:0;bottom:0;z-index:2000;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity 0.3s ease}.qnp-modal.qnp-modal-show{opacity:1}.qnp-modal-backdrop{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5)}.qnp-modal-content{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius);width:90%;max-width:320px;position:relative;z-index:1;transform:translateY(20px) scale(0.95);transition:transform 0.3s ease}.qnp-modal.qnp-modal-show .qnp-modal-content{transform:translateY(0) scale(1)}.qnp-modal-header{padding:16px 20px 12px 20px;border-bottom:1px solid var(--color-border)}.qnp-modal-header h3{margin:0;color:var(--color-text);font-weight:600;font-size:1rem}.qnp-modal-body{padding:20px;text-align:center}.qnp-modal-icon{margin-bottom:12px}.qnp-modal-icon i{font-size:2.5rem;color:var(--comp-warning)}.qnp-modal-body p{margin:0 0 8px 0;color:var(--color-text);line-height:1.4;font-size:0.9rem}.qnp-modal-warning{font-size:0.8rem;color:var(--color-text-muted) !important}.qnp-modal-footer{display:flex;justify-content:flex-end;gap:10px;padding:12px 20px 16px 20px;border-top:1px solid var(--color-border)}.qnp-modal-footer .qnp-btn{padding:8px 16px;font-size:0.9rem}#qnp-validation-modal .qnp-modal-icon i{color:var(--comp-info)}.content-body h2 .qnp-add{position:absolute;right:0;top:0;transform:translateY(-10%);width:30px;height:30px;border-radius:6px;background:var(--color-surface-dark);border:1px solid var(--color-border);color:var(--color-text);display:inline-flex;align-items:center;justify-content:center;cursor:pointer}.content-body h2 .qnp-add:hover{background:var(--color-surface-dark)}.content-body h2 .qnp-add .qnp-badge{position:absolute;top:-6px;right:-6px;min-width:16px;height:16px;border-radius:9999px;background:var(--color-primary);color:#fff;font-size:10px;display:inline-flex;align-items:center;justify-content:center;padding:0 4px;border:1px solid var(--color-border)}[data-theme="dark"]{--color-primary: #d3d3d3;--color-secondary: #d3d3d3;--color-accent: #d3d3d3;--color-background: #333;--color-surface: #444;--color-surface-dark: #3a3a3a;--color-border: #555;--color-text: #d3d3d3;--color-text-muted: #aaa;--shadow-light: 0 2px 4px rgba(0, 0, 0, 0.2);--shadow-medium: 0 4px 6px rgba(0, 0, 0, 0.3);--comp-bg: #1e1e1e;--comp-header-bg: #2c2c2c;--comp-header-fg: #e6edf3;--comp-border: #444444;--comp-info: #7aa2e3;--comp-success: #81c784;--comp-warning: #e1b962;--comp-error: #ef9a9a;--comp-solution: #81c784;--comp-suggestion: #7ec1bd;--comp-ai: #84c5f0;--comp-info-hbg: var(--comp-header-bg);--comp-success-hbg: var(--comp-header-bg);--comp-warning-hbg: var(--comp-header-bg);--comp-error-hbg: var(--comp-header-bg);--comp-solution-hbg: var(--comp-header-bg);--comp-suggestion-hbg: var(--comp-header-bg);--comp-ai-hbg: var(--comp-header-bg)}[data-theme="dark"] .content-body h2 .qnp-add .qnp-badge{background-color:#2a2a2a;color:#e6edf3;border-color:var(--color-border)}[data-theme="dark"] .responsive-table th{background-color:#2c2c2c;color:#e6edf3}[data-theme="dark"] .responsive-table tr:hover{background-color:rgba(255,255,255,0.04)}[data-theme="dark"] .btn,[data-theme="dark"] .nav-dropdown-btn,[data-theme="dark"] .nav-button,[data-theme="dark"] .theme-toggle{background-color:#3a3a3a;color:#e6edf3;border:1px solid #555}[data-theme="dark"] .btn:hover,[data-theme="dark"] .nav-dropdown-btn:hover,[data-theme="dark"] .nav-button:hover,[data-theme="dark"] .theme-toggle:hover{background-color:#3a3a3a}[data-theme="dark"] .btn:disabled,[data-theme="dark"] .nav-button:disabled{background-color:var(--color-border);color:#bbbbbb}[data-theme="dark"] .btn-danger{background-color:var(--comp-error);border:1px solid var(--comp-error);color:#fff}[data-theme="dark"] .btn-danger:hover{background-color:var(--comp-error)}[data-theme="dark"] .nav-dropdown-item:hover,[data-theme="dark"] .nav-dropdown-item.current{background-color:#353535;color:#ffffff}[data-theme="dark"] .skip-link{background:#4a4a4a}[data-theme="dark"] .horizontal-nav .horizontal-nav-item{color:#3498db}[data-theme="dark"] .horizontal-nav .horizontal-nav-item:hover{color:#7aa2e3}[data-theme="dark"] .horizontal-nav .horizontal-nav-item.current{color:var(--color-text)}[data-theme="dark"] .sidebar-section{background-color:#222;border-color:#333}[data-theme="dark"] .nav-link{background-color:#2a2a2a;color:#e6edf3}[data-theme="dark"] .nav-link:hover{background-color:#353535;color:#ffffff}[data-theme="dark"] .nav-link.current{background-color:#3d3d3d;color:#ffffff}[data-theme="dark"] .unit-hero{background-color:#2c2c2c;color:#e6edf3}[data-theme="dark"] .unit-header{background-color:#2a2a2a;color:#e6edf3}[data-theme="dark"] .block-number{background-color:#3a3a3a;color:#ffffff}[data-theme="dark"] .block-action:hover{background-color:#353535}[data-theme="dark"] .progress-fill-footer{background-color:#7aa2e3}[data-theme="light"] .sidebar-section h3{border-bottom-color:rgba(0,0,0,0.22)}[data-theme="light"] .sidebar .sidebar-section{border:1px solid rgba(0,0,0,0.22) !important;border-radius:var(--border-radius)}[data-theme="light"] .sidebar .sidebar-section:last-child{border-bottom:1px solid rgba(0,0,0,0.22) !important}
